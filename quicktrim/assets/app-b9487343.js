(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function R(){}const be=e=>e;function ut(e,t){for(const n in t)e[n]=t[n];return e}function jt(e){return e()}function vt(){return Object.create(null)}function Z(e){e.forEach(jt)}function Ie(e){return typeof e=="function"}function ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fn(e){return Object.keys(e).length===0}function Pt(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ve(e){let t;return Pt(e,n=>t=n)(),t}function X(e,t,n){e.$$.on_destroy.push(Pt(t,n))}function ge(e){return e??""}function pn(e,t,n){return e.set(n),t}function yt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Rt=typeof window<"u";let Fe=Rt?()=>window.performance.now():()=>Date.now(),mt=Rt?e=>requestAnimationFrame(e):R;const Se=new Set;function Ft(e){Se.forEach(t=>{t.c(e)||(Se.delete(t),t.f())}),Se.size!==0&&mt(Ft)}function Ue(e){let t;return Se.size===0&&mt(Ft),{promise:new Promise(n=>{Se.add(t={c:e,f:n})}),abort(){Se.delete(t)}}}function k(e,t){e.appendChild(t)}function Ut(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function mn(e){const t=S("style");return hn(Ut(e),t),t.sheet}function hn(e,t){return k(e.head||e,t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function Wt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function ne(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ue(e){return document.createTextNode(e)}function x(){return ue(" ")}function We(){return ue("")}function $(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function gn(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function lt(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function _n(e){return Array.from(e.childNodes)}function Xe(e,t){t=""+t,e.data!==t&&(e.data=t)}function vn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function zt(e,t,n,i){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function z(e,t,n){e.classList[n?"add":"remove"](t)}function Xt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,i,t),s}class yn{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=ne(n.nodeName):this.e=S(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(H)}}function bt(e,t){return new e(t)}const Qe=new Map;let Ze=0;function bn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wn(e,t){const n={stylesheet:mn(t),rules:{}};return Qe.set(e,n),n}function je(e,t,n,i,s,r,o,l=0){const a=16.666/i;let c=`{
`;for(let _=0;_<=1;_+=a){const b=t+(n-t)*r(_);c+=_*100+`%{${o(b,1-b)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${bn(u)}_${l}`,d=Ut(e),{stylesheet:p,rules:g}=Qe.get(d)||wn(d,e);g[f]||(g[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${i}ms linear ${s}ms 1 both`,Ze+=1,f}function Pe(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(e.style.animation=i.join(", "),Ze-=s,Ze||kn())}function kn(){mt(()=>{Ze||(Qe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&H(t)}),Qe.clear())})}function En(e,t,n,i){if(!t)return R;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return R;const{delay:r=0,duration:o=300,easing:l=be,start:a=Fe()+r,end:c=a+o,tick:u=R,css:f}=n(e,{from:t,to:s},i);let d=!0,p=!1,g;function m(){f&&(g=je(e,0,1,o,r,l,f)),r||(p=!0)}function _(){f&&Pe(e,g),d=!1}return Ue(b=>{if(!p&&b>=a&&(p=!0),p&&b>=c&&(u(1,0),_()),!d)return!1;if(p){const v=b-a,y=0+1*l(v/o);u(y,1-y)}return!0}),m(),u(0,1),_}function qn(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,Yt(e,s)}}function Yt(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform;e.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Re;function De(e){Re=e}function et(){if(!Re)throw new Error("Function called outside component initialization");return Re}function ze(e){et().$$.on_mount.push(e)}function Mn(e){et().$$.after_update.push(e)}function tt(e){et().$$.on_destroy.push(e)}function ht(){const e=et();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const r=Xt(t,n,{cancelable:i});return s.slice().forEach(o=>{o.call(e,r)}),!r.defaultPrevented}return!0}}function Sn(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Me=[],de=[];let Ae=[];const dt=[],Bt=Promise.resolve();let ft=!1;function Kt(){ft||(ft=!0,Bt.then(Vt))}function An(){return Kt(),Bt}function re(e){Ae.push(e)}function Cn(e){dt.push(e)}const rt=new Set;let Ee=0;function Vt(){if(Ee!==0)return;const e=Re;do{try{for(;Ee<Me.length;){const t=Me[Ee];Ee++,De(t),Tn(t.$$)}}catch(t){throw Me.length=0,Ee=0,t}for(De(null),Me.length=0,Ee=0;de.length;)de.pop()();for(let t=0;t<Ae.length;t+=1){const n=Ae[t];rt.has(n)||(rt.add(n),n())}Ae.length=0}while(Me.length);for(;dt.length;)dt.pop()();ft=!1,rt.clear(),De(e)}function Tn(e){if(e.fragment!==null){e.update(),Z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}function In(e){const t=[],n=[];Ae.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Ae=t}let xe;function gt(){return xe||(xe=Promise.resolve(),xe.then(()=>{xe=null})),xe}function ye(e,t,n){e.dispatchEvent(Xt(`${t?"intro":"outro"}${n}`))}const Ke=new Set;let le;function _e(){le={r:0,c:[],p:le}}function ve(){le.r||Z(le.c),le=le.p}function j(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function W(e,t,n,i){if(e&&e.o){if(Ke.has(e))return;Ke.add(e),le.c.push(()=>{Ke.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const _t={duration:0};function On(e,t,n){const i={direction:"in"};let s=t(e,n,i),r=!1,o,l,a=0;function c(){o&&Pe(e,o)}function u(){const{delay:d=0,duration:p=300,easing:g=be,tick:m=R,css:_}=s||_t;_&&(o=je(e,0,1,p,d,g,_,a++)),m(0,1);const b=Fe()+d,v=b+p;l&&l.abort(),r=!0,re(()=>ye(e,!0,"start")),l=Ue(y=>{if(r){if(y>=v)return m(1,0),ye(e,!0,"end"),c(),r=!1;if(y>=b){const E=g((y-b)/p);m(E,1-E)}}return r})}let f=!1;return{start(){f||(f=!0,Pe(e),Ie(s)?(s=s(i),gt().then(u)):u())},invalidate(){f=!1},end(){r&&(c(),r=!1)}}}function Hn(e,t,n){const i={direction:"out"};let s=t(e,n,i),r=!0,o;const l=le;l.r+=1;function a(){const{delay:c=0,duration:u=300,easing:f=be,tick:d=R,css:p}=s||_t;p&&(o=je(e,1,0,u,c,f,p));const g=Fe()+c,m=g+u;re(()=>ye(e,!1,"start")),Ue(_=>{if(r){if(_>=m)return d(0,1),ye(e,!1,"end"),--l.r||Z(l.c),!1;if(_>=g){const b=f((_-g)/u);d(1-b,b)}}return r})}return Ie(s)?gt().then(()=>{s=s(i),a()}):a(),{end(c){c&&s.tick&&s.tick(1,0),r&&(o&&Pe(e,o),r=!1)}}}function Ye(e,t,n,i){const s={direction:"both"};let r=t(e,n,s),o=i?0:1,l=null,a=null,c=null;function u(){c&&Pe(e,c)}function f(p,g){const m=p.b-o;return g*=Math.abs(m),{a:o,b:p.b,d:m,duration:g,start:p.start,end:p.start+g,group:p.group}}function d(p){const{delay:g=0,duration:m=300,easing:_=be,tick:b=R,css:v}=r||_t,y={start:Fe()+g,b:p};p||(y.group=le,le.r+=1),l||a?a=y:(v&&(u(),c=je(e,o,p,m,g,_,v)),p&&b(0,1),l=f(y,m),re(()=>ye(e,p,"start")),Ue(E=>{if(a&&E>a.start&&(l=f(a,m),a=null,ye(e,l.b,"start"),v&&(u(),c=je(e,o,l.b,l.duration,0,_,r.css))),l){if(E>=l.end)b(o=l.b,1-o),ye(e,l.b,"end"),a||(l.b?u():--l.group.r||Z(l.group.c)),l=null;else if(E>=l.start){const q=E-l.start;o=l.a+l.d*_(q/l.duration),b(o,1-o)}}return!!(l||a)}))}return{run(p){Ie(r)?gt().then(()=>{r=r(s),d(p)}):d(p)},end(){u(),l=a=null}}}function Nn(e,t){W(e,1,1,()=>{t.delete(e.key)})}function xn(e,t){e.f(),Nn(e,t)}function Ln(e,t,n,i,s,r,o,l,a,c,u,f){let d=e.length,p=r.length,g=d;const m={};for(;g--;)m[e[g].key]=g;const _=[],b=new Map,v=new Map,y=[];for(g=p;g--;){const T=f(s,r,g),D=n(T);let F=o.get(D);F?i&&y.push(()=>F.p(T,t)):(F=c(D,T),F.c()),b.set(D,_[g]=F),D in m&&v.set(D,Math.abs(g-m[D]))}const E=new Set,q=new Set;function A(T){j(T,1),T.m(l,u),o.set(T.key,T),u=T.first,p--}for(;d&&p;){const T=_[p-1],D=e[d-1],F=T.key,G=D.key;T===D?(u=T.first,d--,p--):b.has(G)?!o.has(F)||E.has(F)?A(T):q.has(G)?d--:v.get(F)>v.get(G)?(q.add(F),A(T)):(E.add(G),d--):(a(D,o),d--)}for(;d--;){const T=e[d];b.has(T.key)||a(T,o)}for(;p;)A(_[p-1]);return Z(y),_}function Dn(e,t){const n={},i={},s={$$scope:1};let r=e.length;for(;r--;){const o=e[r],l=t[r];if(l){for(const a in o)a in l||(i[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);e[r]=l}else for(const a in o)s[a]=1}for(const o in i)o in n||(n[o]=void 0);return n}function $n(e){return typeof e=="object"&&e!==null?e:{}}const jn=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...jn];function Pn(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function ie(e){e&&e.c()}function ee(e,t,n,i){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),i||re(()=>{const o=e.$$.on_mount.map(jt).filter(Ie);e.$$.on_destroy?e.$$.on_destroy.push(...o):Z(o),e.$$.on_mount=[]}),r.forEach(re)}function te(e,t){const n=e.$$;n.fragment!==null&&(In(n.after_update),Z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Rn(e,t){e.$$.dirty[0]===-1&&(Me.push(e),Kt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fe(e,t,n,i,s,r,o,l=[-1]){const a=Re;De(e);const c=e.$$={fragment:null,ctx:[],props:r,update:R,not_equal:s,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:vt(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,d,...p)=>{const g=p.length?p[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=g)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](g),u&&Rn(e,f)),d}):[],c.update(),u=!0,Z(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const f=_n(t.target);c.fragment&&c.fragment.l(f),f.forEach(H)}else c.fragment&&c.fragment.c();t.intro&&j(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),Vt()}De(a)}class pe{$destroy(){te(this,1),this.$destroy=R}$on(t,n){if(!Ie(n))return R;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Qt(e){const t=e-1;return t*t*t+1}function Le(e,{delay:t=0,duration:n=400,easing:i=be}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Fn(e,{delay:t=0,duration:n=400,easing:i=Qt,x:s=0,y:r=0,opacity:o=0}={}){const l=getComputedStyle(e),a=+l.opacity,c=l.transform==="none"?"":l.transform,u=a*(1-o),[f,d]=yt(s),[p,g]=yt(r);return{delay:t,duration:n,easing:i,css:(m,_)=>`
			transform: ${c} translate(${(1-m)*f}${d}, ${(1-m)*p}${g});
			opacity: ${a-u*_}`}}function Un(e,{from:t,to:n},i={}){const s=getComputedStyle(e),r=s.transform==="none"?"":s.transform,[o,l]=s.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*o/n.width-(n.left+o),c=t.top+t.height*l/n.height-(n.top+l),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:d=Qt}=i;return{delay:u,duration:Ie(f)?f(Math.sqrt(a*a+c*c)):f,easing:d,css:(p,g)=>{const m=g*a,_=g*c,b=p+g*t.width/n.width,v=p+g*t.height/n.height;return`transform: ${r} translate(${m}px, ${_}px) scale(${b}, ${v});`}}}const qe=[];function J(e,t=R){let n;const i=new Set;function s(l){if(ae(e,l)&&(e=l,n)){const a=!qe.length;for(const c of i)c[1](),qe.push(c,e);if(a){for(let c=0;c<qe.length;c+=2)qe[c][0](qe[c+1]);qe.length=0}}}function r(l){s(l(e))}function o(l,a=R){const c=[l,a];return i.add(c),i.size===1&&(n=t(s)||R),l(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}const Wn={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function zn(){const{subscribe:e,update:t}=J(new Array),n={};let i=0;function s(c){return c instanceof Object}function r(c="default",u={}){return n[c]=u,n}function o(c,u){const f={target:"default",...s(c)?c:{...u,msg:c}},d=n[f.target]||{},p={...Wn,...d,...f,theme:{...d.theme,...f.theme},classes:[...d.classes||[],...f.classes||[]],id:++i};return t(g=>p.reversed?[...g,p]:[p,...g]),i}function l(c){t(u=>{if(!u.length||c===0)return[];if(typeof c=="function")return u.filter(d=>c(d));if(s(c))return u.filter(d=>d.target!==c.target);const f=c||Math.max(...u.map(d=>d.id));return u.filter(d=>d.id!==f)})}function a(c,u){const f=s(c)?c:{...u,id:c};t(d=>{const p=d.findIndex(g=>g.id===f.id);return p>-1&&(d[p]={...d[p],...f}),d})}return{subscribe:e,push:o,pop:l,set:a,_init:r}}const Ge=zn();function wt(e){return Object.prototype.toString.call(e)==="[object Date]"}function pt(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=t.map((s,r)=>pt(e[r],s));return s=>i.map(r=>r(s))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(wt(e)&&wt(t)){e=e.getTime(),t=t.getTime();const r=t-e;return o=>new Date(e+o*r)}const i=Object.keys(t),s={};return i.forEach(r=>{s[r]=pt(e[r],t[r])}),r=>{const o={};return i.forEach(l=>{o[l]=s[l](r)}),o}}if(n==="number"){const i=t-e;return s=>e+s*i}throw new Error(`Cannot interpolate ${n} values`)}function Xn(e,t={}){const n=J(e);let i,s=e;function r(o,l){if(e==null)return n.set(e=o),Promise.resolve();s=o;let a=i,c=!1,{delay:u=0,duration:f=400,easing:d=be,interpolate:p=pt}=ut(ut({},t),l);if(f===0)return a&&(a.abort(),a=null),n.set(e=s),Promise.resolve();const g=Fe()+u;let m;return i=Ue(_=>{if(_<g)return!0;c||(m=p(e,o),typeof f=="function"&&(f=f(e,o)),c=!0),a&&(a.abort(),a=null);const b=_-g;return b>f?(n.set(e=o),!1):(n.set(e=m(d(b/f))),!0)}),i.promise}return{set:r,update:(o,l)=>r(o(s,e),l),subscribe:n.subscribe}}function Yn(e){let t,n=e[0].msg+"",i;return{c(){t=new yn(!1),i=We(),t.a=i},m(s,r){t.m(n,s,r),L(s,i,r)},p(s,r){r&1&&n!==(n=s[0].msg+"")&&t.p(n)},i:R,o:R,d(s){s&&H(i),s&&t.d()}}}function Bn(e){let t,n,i;const s=[e[2]];var r=e[0].component.src;function o(l){let a={};for(let c=0;c<s.length;c+=1)a=ut(a,s[c]);return{props:a}}return r&&(t=bt(r,o())),{c(){t&&ie(t.$$.fragment),n=We()},m(l,a){t&&ee(t,l,a),L(l,n,a),i=!0},p(l,a){const c=a&4?Dn(s,[$n(l[2])]):{};if(a&1&&r!==(r=l[0].component.src)){if(t){_e();const u=t;W(u.$$.fragment,1,0,()=>{te(u,1)}),ve()}r?(t=bt(r,o()),ie(t.$$.fragment),j(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else r&&t.$set(c)},i(l){i||(t&&j(t.$$.fragment,l),i=!0)},o(l){t&&W(t.$$.fragment,l),i=!1},d(l){l&&H(n),t&&te(t,l)}}}function kt(e){let t,n,i;return{c(){t=S("div"),h(t,"class","_toastBtn pe svelte-95rq8t"),h(t,"role","button"),h(t,"tabindex","0")},m(s,r){L(s,t,r),n||(i=[$(t,"click",e[4]),$(t,"keydown",e[8])],n=!0)},p:R,d(s){s&&H(t),n=!1,Z(i)}}}function Kn(e){let t,n,i,s,r,o,l,a,c,u;const f=[Bn,Yn],d=[];function p(m,_){return m[0].component?0:1}i=p(e),s=d[i]=f[i](e);let g=e[0].dismissable&&kt(e);return{c(){t=S("div"),n=S("div"),s.c(),r=x(),g&&g.c(),o=x(),l=S("progress"),h(n,"role","status"),h(n,"class","_toastMsg svelte-95rq8t"),z(n,"pe",e[0].component),h(l,"class","_toastBar svelte-95rq8t"),l.value=e[1],h(t,"class","_toastItem svelte-95rq8t"),z(t,"pe",e[0].pausable)},m(m,_){L(m,t,_),k(t,n),d[i].m(n,null),k(t,r),g&&g.m(t,null),k(t,o),k(t,l),a=!0,c||(u=[$(t,"mouseenter",e[9]),$(t,"mouseleave",e[6])],c=!0)},p(m,[_]){let b=i;i=p(m),i===b?d[i].p(m,_):(_e(),W(d[b],1,1,()=>{d[b]=null}),ve(),s=d[i],s?s.p(m,_):(s=d[i]=f[i](m),s.c()),j(s,1),s.m(n,null)),(!a||_&1)&&z(n,"pe",m[0].component),m[0].dismissable?g?g.p(m,_):(g=kt(m),g.c(),g.m(t,o)):g&&(g.d(1),g=null),(!a||_&2)&&(l.value=m[1]),(!a||_&1)&&z(t,"pe",m[0].pausable)},i(m){a||(j(s),a=!0)},o(m){W(s),a=!1},d(m){m&&H(t),d[i].d(),g&&g.d(),c=!1,Z(u)}}}function at(e,t="undefined"){return typeof e===t}function Vn(e,t,n){let i,{item:s}=t,r=s.initial,o=r,l=!1,a={},c;const u=Xn(s.initial,{duration:s.duration,easing:be});X(e,u,v=>n(1,i=v));function f(){Ge.pop(s.id)}function d(){(i===1||i===0)&&f()}function p(){!l&&i!==r&&(u.set(i,{duration:0}),l=!0)}function g(){if(l){const v=s.duration,y=v-v*((i-o)/(r-o));u.set(r,{duration:y}).then(d),l=!1}}function m(v=document){if(at(v.hidden))return;const y=()=>v.hidden?p():g(),E="visibilitychange";v.addEventListener(E,y),c=()=>v.removeEventListener(E,y),y()}ze(m),tt(()=>{at(s.onpop,"function")&&s.onpop(s.id),c&&c()});const _=v=>{v instanceof KeyboardEvent&&["Enter"," "].includes(v.key)&&f()},b=()=>{s.pausable&&p()};return e.$$set=v=>{"item"in v&&n(0,s=v.item)},e.$$.update=()=>{if(e.$$.dirty&1&&(at(s.progress)||n(0,s.next=s.progress,s)),e.$$.dirty&131&&r!==s.next&&(n(7,r=s.next),o=i,l=!1,u.set(r).then(d)),e.$$.dirty&1&&s.component){const{props:v={},sendIdTo:y}=s.component;n(2,a={...v,...y&&{[y]:s.id}})}},[s,i,a,u,f,p,g,r,_,b]}class Qn extends pe{constructor(t){super(),fe(this,t,Vn,Kn,ae,{item:0})}}function Et(e,t,n){const i=e.slice();return i[4]=t[n],i}function qt(e,t){let n,i,s,r,o,l,a,c,u=R,f;return i=new Qn({props:{item:t[4]}}),{key:e,first:null,c(){var d;n=S("li"),ie(i.$$.fragment),s=x(),h(n,"class",r=ge((d=t[4].classes)==null?void 0:d.join(" "))+" svelte-1u812xz"),h(n,"style",o=Mt(t[4].theme)),this.first=n},m(d,p){L(d,n,p),ee(i,n,null),k(n,s),f=!0},p(d,p){var m;t=d;const g={};p&1&&(g.item=t[4]),i.$set(g),(!f||p&1&&r!==(r=ge((m=t[4].classes)==null?void 0:m.join(" "))+" svelte-1u812xz"))&&h(n,"class",r),(!f||p&1&&o!==(o=Mt(t[4].theme)))&&h(n,"style",o)},r(){c=n.getBoundingClientRect()},f(){qn(n),u(),Yt(n,c)},a(){u(),u=En(n,c,Un,{duration:200})},i(d){f||(j(i.$$.fragment,d),re(()=>{f&&(a&&a.end(1),l=On(n,Fn,t[4].intro),l.start())}),f=!0)},o(d){W(i.$$.fragment,d),l&&l.invalidate(),a=Hn(n,Le,{}),f=!1},d(d){d&&H(n),te(i),d&&a&&a.end()}}}function Zn(e){let t,n=[],i=new Map,s,r=e[0];const o=l=>l[4].id;for(let l=0;l<r.length;l+=1){let a=Et(e,r,l),c=o(a);i.set(c,n[l]=qt(c,a))}return{c(){t=S("ul");for(let l=0;l<n.length;l+=1)n[l].c();h(t,"class","_toastContainer svelte-1u812xz")},m(l,a){L(l,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);s=!0},p(l,[a]){if(a&1){r=l[0],_e();for(let c=0;c<n.length;c+=1)n[c].r();n=Ln(n,a,o,1,l,r,i,t,xn,qt,null,Et);for(let c=0;c<n.length;c+=1)n[c].a();ve()}},i(l){if(!s){for(let a=0;a<r.length;a+=1)j(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)W(n[a]);s=!1},d(l){l&&H(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Mt(e){return e?Object.keys(e).reduce((t,n)=>`${t}${n}:${e[n]};`,""):void 0}function Gn(e,t,n){let i;X(e,Ge,l=>n(3,i=l));let{options:s={}}=t,{target:r="default"}=t,o=[];return e.$$set=l=>{"options"in l&&n(1,s=l.options),"target"in l&&n(2,r=l.target)},e.$$.update=()=>{e.$$.dirty&6&&Ge._init(r,s),e.$$.dirty&12&&n(0,o=i.filter(l=>l.target===r))},[o,s,r,i]}class Jn extends pe{constructor(t){super(),fe(this,t,Gn,Zn,ae,{options:1,target:2})}}const Zt="colorMixerParams",St=localStorage.getItem(Zt),At={mode:"whole"},Ce=J([]),B=J({triminprogress:!1,isDefined:!1,cancelTrim:!1,index:0,x:0,y:0,width:0,height:0,mode:"whole",expanded:!1}),$e=J(!1),Je=J(!1);J(null);const Te=J(!1),ct=J(!1),Ct=J(null),es=J("");J(null);const se=J(St?{...At,...JSON.parse(St)}:At);se.subscribe(e=>{localStorage.setItem(Zt,JSON.stringify(e))});function ts(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v,y,E,q,A,T;return{c(){t=S("div"),i=x(),s=S("div"),r=S("div"),o=x(),l=S("h3"),l.textContent="An extension to efficiently trim, save and copy to the clipboard images opened directly in the browser window.",a=x(),c=S("p"),c.textContent="Works with PNG, WebP and JPEG formats.",u=x(),f=S("div"),f.innerHTML=`<div class="icon-group svelte-14ygsud"><div class="icon-row svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div id="icon-mode-whole" class="icon-mode-whole svelte-14ygsud"></div> 
          <label for="icon-mode-whole" class="svelte-14ygsud"><span class="svelte-14ygsud">Whole</span></label></div> 
        <div class="icon-unit svelte-14ygsud"><div id="icon-mode-quadrant" class="icon-mode-quadrant svelte-14ygsud"></div> 
          <label for="icon-mode-quadrant" class="svelte-14ygsud"><span class="svelte-14ygsud">Quadrant</span></label></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Modes</h4> 
      <p class="svelte-14ygsud">Whole mode focuses on the entire image. Quadrant mode splits the image into four equal quadrants, handy for quickly processing 2x2 image grids from sources like Midjourney. Controls appear in each quadrant when the mouse is hovered over them.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-group svelte-14ygsud"><div class="icon-row svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div id="icon-expand" class="icon-expand svelte-14ygsud"></div> 
            <label for="icon-expand" class="svelte-14ygsud"><span class="svelte-14ygsud">Expand</span></label></div> 
          <div class="icon-unit svelte-14ygsud"><div id="icon-shrink" class="icon-shrink svelte-14ygsud"></div> 
            <label for="icon-shrink" class="svelte-14ygsud"><span class="svelte-14ygsud">Shrink</span></label></div></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Expand/Shrink</h4> 
      <p class="svelte-14ygsud">In quadrant mode, Expand the quadrant full screen, or shrink to edit all 4 quadrants. The trim tool is only available when a quadrant is expanded.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-triminactive svelte-14ygsud"></div></div></div> 

    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Trim</h4> 
      <p class="svelte-14ygsud">Draw out a rectangular trim area to save or copy part of the image. Use resize handles to adjust the area, or click and drag within the trim area to move it. Clicking outside the trim area resets and deactivates trimming.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-clipboard svelte-14ygsud"></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Copy</h4> 
      <p class="svelte-14ygsud">Copies the image to the clipboard.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-download svelte-14ygsud"></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Download</h4> 
      <p class="svelte-14ygsud">Saves the image (in the originating file format) to the browser download directory.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Filename</h4> 
      <p class="svelte-14ygsud">Press enter Click on filename to edit. Note that quadrants are automatically suffixed with &quot;_q1,&quot; &quot;_q2,&quot; etc.</p></div> 
    <div class="svelte-14ygsud"></div> 
    <div class="help-text svelte-14ygsud"><h4 class="sm-center gap-top svelte-14ygsud">Keyboard Shortcuts</h4> 
      <ul class="nobullets shortcut-list svelte-14ygsud"><li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">m</span> Toggle between whole and quadrant modes</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">f</span> Toggle fullscreen mode (in quadrant mode)</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">t</span> Activate trim tool</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">c</span> Copy full image or trim area to clipboard</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">d</span> Download full image or trim area.</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Shift</span>+ <span class="keycap svelte-14ygsud">D</span> Download all quadrants (in quadrant mode).</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Esc</span> Deactivate trim tool</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Enter</span> Edit filename</li></ul></div>`,d=x(),p=S("p"),g=ue("@"),m=ue(e[0]),_=x(),b=S("a"),b.textContent="Sideways Design",v=x(),y=S("div"),h(t,"class","help-page-overlay svelte-14ygsud"),h(r,"class","wordmark svelte-14ygsud"),h(l,"class","svelte-14ygsud"),h(c,"class","center svelte-14ygsud"),h(f,"class","help-grid svelte-14ygsud"),h(b,"href","https://sidewaysdesign.com/"),h(b,"class","svelte-14ygsud"),h(p,"class","year svelte-14ygsud"),h(y,"class","icon-close svelte-14ygsud"),h(s,"class","help-page-wrapper svelte-14ygsud")},m(D,F){L(D,t,F),L(D,i,F),L(D,s,F),k(s,r),k(s,o),k(s,l),k(s,a),k(s,c),k(s,u),k(s,f),k(s,d),k(s,p),k(p,g),k(p,m),k(p,_),k(p,b),k(s,v),k(s,y),q=!0,A||(T=[$(t,"click",e[1]),$(t,"keydown",e[2]),$(y,"keydown",e[2]),$(y,"click",e[1])],A=!0)},p:R,i(D){q||(re(()=>{q&&(n||(n=Ye(t,Le,{duration:250},!0)),n.run(1))}),re(()=>{q&&(E||(E=Ye(s,Le,{duration:375},!0)),E.run(1))}),q=!0)},o(D){n||(n=Ye(t,Le,{duration:250},!1)),n.run(0),E||(E=Ye(s,Le,{duration:375},!1)),E.run(0),q=!1},d(D){D&&H(t),D&&n&&n.end(),D&&H(i),D&&H(s),D&&E&&E.end(),A=!1,Z(T)}}}function ns(e,t,n){let{popupOpen:i}=t;const s=new Date().getFullYear();ze(()=>document.addEventListener("keydown",r)),tt(()=>document.removeEventListener("keydown",r));function r(a){const u={Escape:()=>n(3,i=!1)}[a.key];u&&u(a)}const o=()=>n(3,i=!1);function l(a){a.key==="Escape"&&o()}return e.$$set=a=>{"popupOpen"in a&&n(3,i=a.popupOpen)},[s,o,l,i]}class ss extends pe{constructor(t){super(),fe(this,t,ns,ts,ae,{popupOpen:3})}}function Tt(e){let t,n,i;function s(o){e[13](o)}let r={};return e[1]!==void 0&&(r.popupOpen=e[1]),t=new ss({props:r}),de.push(()=>Pn(t,"popupOpen",s)),{c(){ie(t.$$.fragment)},m(o,l){ee(t,o,l),i=!0},p(o,l){const a={};!n&&l&2&&(n=!0,a.popupOpen=o[1],Cn(()=>n=!1)),t.$set(a)},i(o){i||(j(t.$$.fragment,o),i=!0)},o(o){W(t.$$.fragment,o),i=!1},d(o){te(t,o)}}}function is(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v,y,E=e[1]&&Tt(e);return{c(){t=S("div"),n=S("div"),i=S("div"),s=x(),r=S("div"),r.innerHTML=`<div class="wordmark svelte-7qk3k3"></div> 
      <p class="byline svelte-7qk3k3"><a href="https://sidewaysdesign.com" target="blank" class="svelte-7qk3k3">by Sideways Design</a></p>`,o=x(),l=S("div"),a=x(),c=S("div"),u=S("div"),u.innerHTML='<span class="tooltip svelte-7qk3k3">Whole Image</span>',f=x(),d=S("div"),d.innerHTML='<span class="tooltip svelte-7qk3k3">Quadrants</span>',p=x(),g=S("div"),m=x(),E&&E.c(),_=We(),h(i,"class","mode-control-hide1 svelte-7qk3k3"),h(i,"aria-hidden","true"),h(l,"class","mode-control-info svelte-7qk3k3"),h(u,"class","mode-control mode-control-whole svelte-7qk3k3"),h(u,"aria-label","Whole Image"),h(u,"tabindex","-2"),z(u,"active",e[3].mode==="whole"),h(d,"class","mode-control mode-control-quadrant svelte-7qk3k3"),h(d,"aria-label","Quadrant"),h(d,"tabindex","-1"),z(d,"active",e[3].mode==="quadrant"),h(c,"class","mode-control-container svelte-7qk3k3"),h(g,"aria-hidden","true"),h(g,"class","mode-control-hide2 svelte-7qk3k3"),h(n,"class","mode-control-group svelte-7qk3k3"),h(t,"class","mode-control-wrapper svelte-7qk3k3"),z(t,"tucked",e[0]),z(t,"triminprogress",e[2].triminprogress)},m(q,A){L(q,t,A),k(t,n),k(n,i),k(n,s),k(n,r),k(n,o),k(n,l),k(n,a),k(n,c),k(c,u),k(c,f),k(c,d),k(n,p),k(n,g),L(q,m,A),E&&E.m(q,A),L(q,_,A),b=!0,v||(y=[$(i,"click",e[7]),$(l,"keydown",e[6]),$(l,"click",e[5]),$(u,"keydown",e[8]),$(u,"click",e[9]),$(d,"keydown",e[10]),$(d,"click",e[11]),$(g,"click",e[12])],v=!0)},p(q,[A]){(!b||A&8)&&z(u,"active",q[3].mode==="whole"),(!b||A&8)&&z(d,"active",q[3].mode==="quadrant"),(!b||A&1)&&z(t,"tucked",q[0]),(!b||A&4)&&z(t,"triminprogress",q[2].triminprogress),q[1]?E?(E.p(q,A),A&2&&j(E,1)):(E=Tt(q),E.c(),j(E,1),E.m(_.parentNode,_)):E&&(_e(),W(E,1,1,()=>{E=null}),ve())},i(q){b||(j(E),b=!0)},o(q){W(E),b=!1},d(q){q&&H(t),q&&H(m),E&&E.d(q),q&&H(_),v=!1,Z(y)}}}function os(e,t,n){let i,s;X(e,B,b=>n(2,i=b)),X(e,se,b=>n(3,s=b));let r=!1,o=!1;const l=b=>{b==="quadrant"&&(B.update(v=>({...v,index:1})),se.update(v=>({...v,mode:"quadrant"}))),b==="whole"&&(B.update(v=>({...v,index:0,expanded:!1})),se.update(v=>({...v,mode:"whole"})))},a=()=>n(1,o=!0),c=b=>{b.key==="?"&&n(1,o=!0)},u=()=>n(0,r=!0),f=b=>b.key.toLowerCase()==="m"&&l("whole"),d=()=>l("whole"),p=b=>b.key.toLowerCase()==="m"&&l("quadrant"),g=()=>l("quadrant"),m=()=>n(0,r=!1);function _(b){o=b,n(1,o)}return[r,o,i,s,l,a,c,u,f,d,p,g,m,_]}class ls extends pe{constructor(t){super(),fe(this,t,os,is,ae,{})}}const Gt=(e,t)=>{Te.update(n=>!n),Ve(Te)||$e.set(!1),t("expandaction")},Jt=()=>{$e.update(e=>!e)},rs=(e,t)=>{console.log("handleDownloadAction",e,Ve(B).index),e===Ve(B).index&&t("imageaction","download")},as=(e,t)=>{e===Ve(B).index&&t("imageaction","clipboard")},cs=()=>{const e=document.activeElement;return e instanceof HTMLElement&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||e.tagName==="FORM"||e.contentEditable==="true")};function It(e,t,n){const i=e.slice();return i[35]=t[n],i}function Ot(e){let t,n,i,s=Math.floor(e[1].x)+"",r,o,l,a,c=Math.floor(e[1].y)+"",u,f,d,p,g=Math.floor(e[1].width)+"",m,_,b,v,y=Math.floor(e[1].height)+"",E;return{c(){t=S("div"),n=S("p"),i=S("span"),i.textContent="x:",r=ue(s),o=x(),l=S("p"),a=S("span"),a.textContent="y:",u=ue(c),f=x(),d=S("p"),p=S("span"),p.textContent="w:",m=ue(g),_=x(),b=S("p"),v=S("span"),v.textContent="h:",E=ue(y),h(i,"class","svelte-g41pfg"),h(n,"class","svelte-g41pfg"),h(a,"class","svelte-g41pfg"),h(l,"class","svelte-g41pfg"),h(p,"class","svelte-g41pfg"),h(d,"class","svelte-g41pfg"),h(v,"class","svelte-g41pfg"),h(b,"class","svelte-g41pfg"),h(t,"class","trim-stats svelte-g41pfg")},m(q,A){L(q,t,A),k(t,n),k(n,i),k(n,r),k(t,o),k(t,l),k(l,a),k(l,u),k(t,f),k(t,d),k(d,p),k(d,m),k(t,_),k(t,b),k(b,v),k(b,E)},p(q,A){A[0]&2&&s!==(s=Math.floor(q[1].x)+"")&&Xe(r,s),A[0]&2&&c!==(c=Math.floor(q[1].y)+"")&&Xe(u,c),A[0]&2&&g!==(g=Math.floor(q[1].width)+"")&&Xe(m,g),A[0]&2&&y!==(y=Math.floor(q[1].height)+"")&&Xe(E,y)},d(q){q&&H(t)}}}function Ht(e){let t;return{c(){t=ne("rect"),h(t,"class","handle svelte-g41pfg"),h(t,"id",e[35].id),h(t,"x","-100"),h(t,"y","-100"),h(t,"width",Be),h(t,"height",Be),zt(t,"cursor",e[35].cursor),h(t,"rx",Be/2),h(t,"ry",Be/2)},m(n,i){L(n,t,i)},p:R,d(n){n&&H(t)}}}function us(e){let t,n,i,s,r,o,l,a,c,u,f,d,p=(e[8]||e[5]||e[7]||e[6])&&Ot(e),g=e[9],m=[];for(let _=0;_<g.length;_+=1)m[_]=Ht(It(e,g,_));return{c(){t=S("div"),n=S("div"),p&&p.c(),i=x(),s=ne("svg"),r=ne("defs"),o=ne("rect"),l=ne("clipPath"),a=ne("use"),c=ne("use"),u=ne("use"),f=ne("path"),d=ne("rect");for(let _=0;_<m.length;_+=1)m[_].c();h(n,"class","trim-stats-container svelte-g41pfg"),h(o,"vector-effect","non-scaling-stroke"),h(o,"shape-rendering","geometricPrecision"),h(o,"id","bbox"),h(o,"x","0"),h(o,"y","0"),h(o,"width","0"),h(o,"height","0"),lt(a,"xlink:href","#bbox"),h(l,"id","insideStrokeOnly"),lt(c,"xlink:href","#bbox"),h(c,"stroke-width","2px"),h(c,"stroke","white"),h(c,"fill","none"),h(c,"clip-path","url(#insideStrokeOnly)"),lt(u,"xlink:href","#bbox"),h(u,"stroke-width","2px"),h(u,"stroke-dasharray","2,2"),h(u,"stroke","#777"),h(u,"fill","none"),h(u,"clip-path","url(#insideStrokeOnly)"),h(f,"id",en),h(f,"fill","#000"),h(f,"d","M-100,-100H0V0H-100ZM-100,-100H0V0H-100Z"),h(f,"fill-rule","evenodd"),h(f,"opacity","0.5"),h(d,"id",tn),h(d,"x","-100"),h(d,"y","-100"),h(d,"width","0"),h(d,"height","0"),zt(d,"cursor","grab"),h(d,"fill","transparent"),h(s,"width","100%"),h(s,"height","100%"),h(s,"class","inactive svelte-g41pfg"),h(t,"class","trim-stage svelte-g41pfg")},m(_,b){L(_,t,b),k(t,n),p&&p.m(n,null),e[11](n),k(t,i),k(t,s),k(s,r),k(r,o),e[12](o),k(r,l),k(l,a),k(s,c),k(s,u),k(s,f),e[13](f),k(s,d);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(s,null);e[14](s)},p(_,b){if(_[8]||_[5]||_[7]||_[6]?p?p.p(_,b):(p=Ot(_),p.c(),p.m(n,null)):p&&(p.d(1),p=null),b[0]&512){g=_[9];let v;for(v=0;v<g.length;v+=1){const y=It(_,g,v);m[v]?m[v].p(y,b):(m[v]=Ht(y),m[v].c(),m[v].m(s,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=g.length}},i:R,o:R,d(_){_&&H(t),p&&p.d(),e[11](null),e[12](null),e[13](null),Wt(m,_),e[14](null)}}}const en="focusOverlay",tn="movehandle",Be=14;function ds(e,t,n){let{frameSpecs:i}=t,s,r,o,l,a,c,u=i.width,f=i.height,d=i.x1,p=i.y1,g=i.factor,m={x:0,y:0,width:0,height:0},_=!1,b=!1,v=!1,y,E,q,A,T,D={x:d,y:p,width:u,height:f},F=!1;const G=[{id:"top-left",cursor:"nw-resize"},{id:"top-right",cursor:"ne-resize"},{id:"bottom-left",cursor:"sw-resize"},{id:"bottom-right",cursor:"se-resize"}];ze(()=>{s.addEventListener("mousedown",Oe),s.addEventListener("mousemove",He),s.addEventListener("mouseup",I),G.forEach(M=>{M.ref=document.querySelector(`svg #${M.id}`)}),c=document.querySelector(`svg #${tn}`),n(2,o=document.querySelector(`svg #${en}`)),o.addEventListener("click",we)});async function Oe(M){console.log("TRIM MOUSEDOWN"),r=s.getBoundingClientRect(),A=r.left,T=r.top,M.target===s?(E=M.clientX-A,q=M.clientY-T,n(5,_=!0),s.classList.remove("inactive"),n(1,m={x:0,y:0,width:0,height:0}),o.setAttribute("d",`M0,0H${r.width}V${r.height}H0Z`)):M.target.classList.contains("handle")?(E=M.clientX-A,q=M.clientY-T,n(6,b=!0),y=M.target):M.target.id==="movehandle"&&(E=M.clientX-m.x,q=M.clientY-m.y,n(7,v=!0)),B.update(U=>({...U,triminprogress:!0}))}function He(M){let U,K,V,Q;if(_)U=Math.min(E,M.clientX-A),K=Math.min(q,M.clientY-T),V=Math.abs(E-M.clientX+A),Q=Math.abs(q-M.clientY+T);else if(b){const N=m;switch(U=m.x,K=m.y,V=m.width,Q=m.height,y.id){case"top-left":U=Math.min(M.clientX-A,N.x+N.width),K=Math.min(M.clientY-T,N.y+N.height),V=Math.abs(N.x+N.width-U),Q=Math.abs(N.y+N.height-K);break;case"top-right":K=Math.min(M.clientY-T,N.y+N.height),V=Math.abs(M.clientX-A-N.x),Q=Math.abs(N.y+N.height-K);break;case"bottom-left":U=Math.min(M.clientX-A,N.x+N.width),V=Math.abs(N.x+N.width-U),Q=Math.abs(M.clientY-T-N.y);break;case"bottom-right":V=Math.abs(M.clientX-A-N.x),Q=Math.abs(M.clientY-T-N.y);break}}else v&&(U=Math.min(Math.max(0,M.clientX-E),r.width-m.width),K=Math.min(Math.max(0,M.clientY-q),r.height-m.height),V=m.width,Q=m.height);(_||b||v)&&(oe(U,K,V,Q),ce(U+V/2,K+Q/2),n(1,m={x:U,y:K,width:V,height:Q}))}function I(){console.log("TRIM MOUSEUP"),n(5,_=!1),n(6,b=!1),n(7,v=!1),n(8,F=!!(m.width&&m.height)),F&&B.update(M=>({...M,...D})),B.update(M=>({...M,isDefined:F,triminprogress:!1}))}function ce(M,U){n(3,l.style.left=`${M}px`,l),n(3,l.style.top=`${U}px`,l)}function oe(M,U,K,V){a.setAttribute("x",M),a.setAttribute("y",U),a.setAttribute("width",K),a.setAttribute("height",V),c.setAttribute("x",M),c.setAttribute("y",U),c.setAttribute("width",K),c.setAttribute("height",V),G.forEach(Q=>{const N=Q.ref;switch(Q.id){case"top-left":N.setAttribute("x",M),N.setAttribute("y",U);break;case"top-right":N.setAttribute("x",M+K),N.setAttribute("y",U);break;case"bottom-left":N.setAttribute("x",M),N.setAttribute("y",U+V);break;case"bottom-right":N.setAttribute("x",M+K),N.setAttribute("y",U+V);break}}),o.setAttribute("d",`M0,0H${r.width}V${r.height}H0ZM${M},${U}H${M+K}V${U+V}H${M}Z`)}function we(){n(8,F=!1),B.update(M=>({...M,isDefined:!1,cancelTrim:!0})),oe(-100,-100,0,0),G.forEach(M=>{M.ref.setAttribute("x",-100),M.ref.setAttribute("y",-100)}),o.setAttribute("d","M-100,-100H0V0H-100ZM-100,-100H0V0H-100Z")}function nt(M){de[M?"unshift":"push"](()=>{l=M,n(3,l)})}function st(M){de[M?"unshift":"push"](()=>{a=M,n(4,a)})}function me(M){de[M?"unshift":"push"](()=>{o=M,n(2,o)})}function it(M){de[M?"unshift":"push"](()=>{s=M,n(0,s)})}return e.$$set=M=>{"frameSpecs"in M&&n(10,i=M.frameSpecs)},e.$$.update=()=>{e.$$.dirty[0]&3&&s&&(D={x:Math.floor(m.x/s.clientWidth*u*g)+d,y:Math.floor(m.y/s.clientHeight*f*g)+p,width:Math.floor(m.width/s.clientWidth*u*g),height:Math.floor(m.height/s.clientHeight*f*g)})},[s,m,o,l,a,_,b,v,F,G,i,nt,st,me,it]}class fs extends pe{constructor(t){super(),fe(this,t,ds,us,ae,{frameSpecs:10},null,[-1,-1])}}function Nt(e){let t,n,i;return n=new fs({props:{frameSpecs:e[1]}}),{c(){t=S("div"),ie(n.$$.fragment),h(t,"class","trim-action svelte-jubwb9")},m(s,r){L(s,t,r),ee(n,t,null),i=!0},p(s,r){const o={};r&2&&(o.frameSpecs=s[1]),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){W(n.$$.fragment,s),i=!1},d(s){s&&H(t),te(n)}}}function xt(e){let t,n,i,s;return{c(){t=S("button"),h(t,"tabindex","0"),h(t,"class",n=ge(`isolate-control ${e[8]?"icon-trimactive":"icon-triminactive"}`)+" svelte-jubwb9")},m(r,o){L(r,t,o),i||(s=$(t,"click",e[20]),i=!0)},p(r,o){o&256&&n!==(n=ge(`isolate-control ${r[8]?"icon-trimactive":"icon-triminactive"}`)+" svelte-jubwb9")&&h(t,"class",n)},d(r){r&&H(t),i=!1,s()}}}function Lt(e){let t,n,i,s;return{c(){t=S("button"),h(t,"tabindex","0"),h(t,"class",n=ge(`isolate-control ${e[9]&&e[6]?"icon-shrink":"icon-expand"}`)+" svelte-jubwb9")},m(r,o){L(r,t,o),i||(s=$(t,"click",e[21]),i=!0)},p(r,o){o&576&&n!==(n=ge(`isolate-control ${r[9]&&r[6]?"icon-shrink":"icon-expand"}`)+" svelte-jubwb9")&&h(t,"class",n)},d(r){r&&H(t),i=!1,s()}}}function ps(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v=e[8]&&e[6]&&Nt(e),y=(e[7]!=="quadrant"||e[9])&&xt(e),E=e[7]==="quadrant"&&Lt(e);return{c(){t=S("div"),v&&v.c(),n=x(),i=S("div"),s=S("div"),r=S("div"),o=S("div"),l=ue(e[5]),a=x(),c=S("button"),u=x(),f=S("button"),d=x(),p=S("div"),y&&y.c(),g=x(),E&&E.c(),h(o,"class","filename-text editing svelte-jubwb9"),h(o,"tabindex","-1"),h(o,"contenteditable",""),e[5]===void 0&&re(()=>e[17].call(o)),z(o,"editing",e[4]),h(c,"class","icon-download svelte-jubwb9"),h(r,"class","filename-area svelte-jubwb9"),h(r,"data-index",e[0]),h(f,"class","icon-clipboard svelte-jubwb9"),h(s,"class","controls-wrapper svelte-jubwb9"),h(p,"class","isolate-controls svelte-jubwb9"),h(i,"class","image-action svelte-jubwb9"),h(t,"class","svelte-jubwb9"),z(t,"triminprogress",e[3].triminprogress)},m(q,A){L(q,t,A),v&&v.m(t,null),k(t,n),k(t,i),k(i,s),k(s,r),k(r,o),k(o,l),e[16](o),e[5]!==void 0&&(o.textContent=e[5]),k(r,a),k(r,c),k(s,u),k(s,f),k(i,d),k(i,p),y&&y.m(p,null),k(p,g),E&&E.m(p,null),m=!0,_||(b=[$(o,"blur",e[11]),$(o,"input",e[17]),$(o,"click",gn(e[15])),$(o,"keydown",e[13]),$(c,"click",e[18]),$(f,"click",e[19]),$(t,"blur",e[12])],_=!0)},p(q,[A]){q[8]&&q[6]?v?(v.p(q,A),A&320&&j(v,1)):(v=Nt(q),v.c(),j(v,1),v.m(t,n)):v&&(_e(),W(v,1,1,()=>{v=null}),ve()),(!m||A&32)&&vn(l,q[5]),A&32&&q[5]!==o.textContent&&(o.textContent=q[5]),(!m||A&16)&&z(o,"editing",q[4]),(!m||A&1)&&h(r,"data-index",q[0]),q[7]!=="quadrant"||q[9]?y?y.p(q,A):(y=xt(q),y.c(),y.m(p,g)):y&&(y.d(1),y=null),q[7]==="quadrant"?E?E.p(q,A):(E=Lt(q),E.c(),E.m(p,null)):E&&(E.d(1),E=null),(!m||A&8)&&z(t,"triminprogress",q[3].triminprogress)},i(q){m||(j(v),m=!0)},o(q){W(v),m=!1},d(q){q&&H(t),v&&v.d(),e[16](null),y&&y.d(),E&&E.d(),_=!1,Z(b)}}}function ms(e,t,n){let i,s,r,o,l,a,c,u;X(e,B,I=>n(3,r=I)),X(e,se,I=>n(14,o=I)),X(e,Je,I=>n(4,l=I)),X(e,Ce,I=>n(23,a=I)),X(e,$e,I=>n(8,c=I)),X(e,Te,I=>n(9,u=I));let{index:f}=t,{frameSpecs:d}=t,p,g;const m=ht(),_=(I,ce)=>{Ce.update(oe=>{const we=[...oe];return we[I]=ce,we})},b=()=>{let I=p.innerText;if(I.length===0){n(5,v=g);return}_(f,I),Je.set(!1)};let v=a[f];const y=I=>{$e.set(!1),Te.set(!1)},E=I=>{const ce=document.createRange();ce.selectNodeContents(I),ce.collapse(!1);const oe=window.getSelection();oe.removeAllRanges(),oe.addRange(ce)},q=I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),n(2,p.innerText=g,p),p.blur())};function A(I){Sn.call(this,e,I)}function T(I){de[I?"unshift":"push"](()=>{p=I,n(2,p)})}function D(){v=this.textContent,n(5,v)}const F=()=>rs(f,m),G=()=>as(f,m),Oe=()=>Jt(),He=()=>Gt(f,m);return e.$$set=I=>{"index"in I&&n(0,f=I.index),"frameSpecs"in I&&n(1,d=I.frameSpecs)},e.$$.update=()=>{e.$$.dirty&20&&l&&An().then(()=>E(p)),e.$$.dirty&8&&r.cancelTrim&&($e.set(!1),B.update(I=>({...I,cancelTrim:!1,isDefined:!1}))),e.$$.dirty&16384&&n(7,i=o.mode),e.$$.dirty&9&&n(6,s=r.index===f)},[f,d,p,r,l,v,s,i,c,u,m,b,y,q,o,A,T,D,F,G,Oe,He]}class nn extends pe{constructor(t){super(),fe(this,t,ms,ps,ae,{index:0,frameSpecs:1})}}function hs(e,t,n){let i,s,r,o,l,a;X(e,Te,y=>n(3,s=y)),X(e,Je,y=>n(4,r=y)),X(e,B,y=>n(1,o=y)),X(e,se,y=>n(5,l=y)),X(e,Ce,y=>n(6,a=y));let{index:c}=t;const u=ht(),f=y=>{es.set(a[y]),Je.set(!0)},d=y=>{l.mode!=="quadrant"&&(B.update(E=>({...E,index:y})),se.update(E=>({...E,mode:"quadrant"}))),u("switchquadrant",{index:y})},p=()=>{c!==0?(o.expanded&&u("expandaction"),B.update(y=>({...y,index:0,expanded:!1})),se.update(y=>({...y,mode:"whole"}))):(se.update(y=>({...y,mode:"quadrant"})),B.update(y=>({...y,index:1})))},g=y=>{u("copytoclipboard",{index:i})},m=y=>{u("downloadfile",{index:i})},_=y=>{o.isDefined||(i==0?u("downloadfile",{index:0}):u("downloadall"))},b=()=>{const y=document.activeElement;if(y&&y instanceof HTMLElement){y.blur(),event.preventDefault();return}},v=y=>{if(y.metaKey||y.altKey)return;if(r&&y.key==="Enter"){b();return}if(cs())return;const q={1:()=>d(1),2:()=>d(2),3:()=>d(3),4:()=>d(4),c:()=>g(),t:()=>Jt(),f:()=>Gt(i,u),D:()=>_(),d:()=>m(),m:()=>p(),Enter:()=>f(c),Escape:()=>{b(),B.update(A=>({...A,cancelTrim:!0,isDefined:!1}))},"[":()=>{if(c===0||!s)return;const A=c===1?4:(c-1)%4;B.update(T=>({...T,index:A}))},"]":()=>{if(c===0||!s)return;const A=c===4?1:(c+1)%5;B.update(T=>({...T,index:A}))}}[y.key];q&&(y.preventDefault(),q(y))};return ze(()=>document.addEventListener("keydown",v)),tt(()=>document.removeEventListener("keydown",v)),e.$$set=y=>{"index"in y&&n(0,c=y.index)},e.$$.update=()=>{e.$$.dirty&2&&(i=o.index)},[c,o]}class gs extends pe{constructor(t){super(),fe(this,t,hs,null,ae,{index:0})}}function Dt(e,t,n){const i=e.slice();return i[10]=t[n],i}function _s(e){let t;return{c(){t=S("div"),t.innerHTML="<p>Error loading image dimensions.</p>"},m(n,i){L(n,t,i)},p:R,i:R,o:R,d(n){n&&H(t)}}}function vs(e){let t,n,i,s,r,o,l;const a=[ws,bs],c=[];function u(f,d){return f[9]==="quadrant"?0:1}return s=u(e),r=c[s]=a[s](e),{c(){t=S("div"),n=S("div"),i=S("div"),r.c(),h(i,"class","image-tracker svelte-1ivusu3"),z(i,"expanded",e[6]),z(i,"quadrants",e[9]==="quadrant"),h(n,"class","image-shim svelte-1ivusu3"),h(n,"style",o=`${e[7]}`),h(t,"class","image-base")},m(f,d){L(f,t,d),k(t,n),k(n,i),c[s].m(i,null),l=!0},p(f,d){let p=s;s=u(f),s===p?c[s].p(f,d):(_e(),W(c[p],1,1,()=>{c[p]=null}),ve(),r=c[s],r?r.p(f,d):(r=c[s]=a[s](f),r.c()),j(r,1),r.m(i,null)),(!l||d[0]&64)&&z(i,"expanded",f[6]),(!l||d[0]&512)&&z(i,"quadrants",f[9]==="quadrant"),(!l||d[0]&128&&o!==(o=`${f[7]}`))&&h(n,"style",o)},i(f){l||(j(r),l=!0)},o(f){W(r),l=!1},d(f){f&&H(t),c[s].d()}}}function ys(e){let t;return{c(){t=S("div"),t.innerHTML='<div class="spinner svelte-1ivusu3">Loading...</div>',h(t,"class","spinner-container svelte-1ivusu3")},m(n,i){L(n,t,i)},p:R,i:R,o:R,d(n){n&&H(t)}}}function bs(e){let t,n,i,s,r,o;return n=new nn({props:{index:e[10],frameSpecs:e[8]}}),n.$on("imageaction",e[30]),{c(){t=S("div"),ie(n.$$.fragment),h(t,"class","whole active svelte-1ivusu3"),h(t,"style",i=`background-image:url(${e[1]});${e[7]}`)},m(l,a){L(l,t,a),ee(n,t,null),s=!0,r||(o=$(t,"mouseenter",e[31]),r=!0)},p(l,a){const c={};a[0]&1024&&(c.index=l[10]),a[0]&256&&(c.frameSpecs=l[8]),n.$set(c),(!s||a[0]&130&&i!==(i=`background-image:url(${l[1]});${l[7]}`))&&h(t,"style",i)},i(l){s||(j(n.$$.fragment,l),s=!0)},o(l){W(n.$$.fragment,l),s=!1},d(l){l&&H(t),te(n),r=!1,o()}}}function ws(e){let t,n,i=[1,2,3,4],s=[];for(let o=0;o<4;o+=1)s[o]=$t(Dt(e,i,o));const r=o=>W(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<4;o+=1)s[o].c();t=We()},m(o,l){for(let a=0;a<4;a+=1)s[a]&&s[a].m(o,l);L(o,t,l),n=!0},p(o,l){if(l[0]&228259){i=[1,2,3,4];let a;for(a=0;a<4;a+=1){const c=Dt(o,i,a);s[a]?(s[a].p(c,l),j(s[a],1)):(s[a]=$t(c),s[a].c(),j(s[a],1),s[a].m(t.parentNode,t))}for(_e(),a=4;a<4;a+=1)r(a);ve()}},i(o){if(!n){for(let l=0;l<4;l+=1)j(s[l]);n=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<4;l+=1)W(s[l]);n=!1},d(o){Wt(s,o),o&&H(t)}}}function $t(e){let t,n,i,s,r,o,l,a,c,u;s=new nn({props:{index:e[10],frameSpecs:{...e[8],...e[14](e[10]),factor:.5}}}),s.$on("expandaction",e[27]),s.$on("imageaction",e[28]);function f(){return e[29](e[10])}return{c(){t=S("div"),n=S("div"),i=x(),ie(s.$$.fragment),r=x(),h(t,"style",o=`background-image:url(${e[1]});${e[7]}`),h(t,"class",l=ge(e[9])+" svelte-1ivusu3"),z(t,"active",e[0]===e[10])},m(d,p){L(d,t,p),k(t,n),e[26](n),k(t,i),ee(s,t,null),k(t,r),a=!0,c||(u=[$(t,"mouseenter",f),$(t,"transitionstart",e[11]),$(t,"transitionend",e[12])],c=!0)},p(d,p){e=d;const g={};p[0]&256&&(g.frameSpecs={...e[8],...e[14](e[10]),factor:.5}),s.$set(g),(!a||p[0]&130&&o!==(o=`background-image:url(${e[1]});${e[7]}`))&&h(t,"style",o),(!a||p[0]&512&&l!==(l=ge(e[9])+" svelte-1ivusu3"))&&h(t,"class",l),(!a||p[0]&513)&&z(t,"active",e[0]===e[10])},i(d){a||(j(s.$$.fragment,d),a=!0)},o(d){W(s.$$.fragment,d),a=!1},d(d){d&&H(t),e[26](null),te(s),c=!1,Z(u)}}}function ks(e){let t,n,i,s,r,o;t=new gs({props:{index:e[10]}}),t.$on("downloadfile",e[20]),t.$on("downloadall",e[21]),t.$on("copytoclipboard",e[19]),t.$on("switchquadrant",e[18]),t.$on("expandaction",e[25]);const l=[ys,vs,_s],a=[];function c(u,f){return u[2]?0:u[3]&&u[4]?1:2}return i=c(e),s=a[i]=l[i](e),{c(){ie(t.$$.fragment),n=x(),s.c(),r=We()},m(u,f){ee(t,u,f),L(u,n,f),a[i].m(u,f),L(u,r,f),o=!0},p(u,f){const d={};f[0]&1024&&(d.index=u[10]),t.$set(d);let p=i;i=c(u),i===p?a[i].p(u,f):(_e(),W(a[p],1,1,()=>{a[p]=null}),ve(),s=a[i],s?s.p(u,f):(s=a[i]=l[i](u),s.c()),j(s,1),s.m(r.parentNode,r))},i(u){o||(j(t.$$.fragment,u),j(s),o=!0)},o(u){W(t.$$.fragment,u),W(s),o=!1},d(u){te(t,u),u&&H(n),a[i].d(u),u&&H(r)}}}function Es(e,t,n){let i,s,r,o,l,a,c;X(e,ct,w=>n(33,r=w)),X(e,B,w=>n(23,o=w)),X(e,Ce,w=>n(34,l=w)),X(e,Ct,w=>n(35,a=w)),X(e,se,w=>n(24,c=w));let{imageUrl:u}=t,{imageExtension:f}=t,{currentIndex:d}=t,p=!0,g,m,_,b,v=!1,y="",E;ze(async()=>{const w=await D(u);n(8,E={width:w.width,height:w.height,x1:0,y1:0,factor:1}),n(3,g=w.width),n(4,m=w.height),_=w.canvas,n(7,y=G(g,m))}),Mn(()=>{_&&b&&i==="whole"&&b.appendChild(_)});const q=w=>{w.target===w.currentTarget&&(console.log("transitionStart TRUE"),ct.set(!0))},A=w=>{w.target===w.currentTarget&&(ct.set(!1),console.log("$lastHovered:",a),a&&a!==d&&M(a))},T=async w=>{const C=new Image;return C.crossOrigin="anonymous",C.src=w,await C.decode(),C},D=async w=>{n(2,p=!0);let C,O,P;try{const Y=await T(w);return C=Y.width,O=Y.height,P=Oe(Y,0,0,C,O),{width:C,height:O,canvas:P}}catch(Y){console.error("Error getting image dimensions:",Y)}finally{n(2,p=!1)}},F=ht(),G=(w,C)=>{const O=(ke,Ne)=>Ne===0?ke:O(Ne,ke%Ne),P=O(w,C),Y=w/P,he=C/P;return`aspect-ratio: ${Y} / ${he};`},Oe=(w,C,O,P,Y)=>{const he=document.createElement("canvas"),ke=he.getContext("2d");return he.width=P,he.height=Y,ke.drawImage(w,0,0,P,Y),he},He=(w,C,O)=>{let P,Y;switch(w){case 1:P=0,Y=0;break;case 2:P=C,Y=0;break;case 3:P=0,Y=O;break;case 4:P=C,Y=O;break;default:P=0,Y=0}return{sx:P,sy:Y}},I=(w="download",C)=>{const O=parseInt(C)===0?g:g/2,P=parseInt(C)===0?m:m/2,Y=document.createElement("canvas"),he=Y.getContext("2d");Y.width=O,Y.height=P;let{sx:ke,sy:Ne}=He(C,O,P);he.drawImage(_,ke,Ne,O,P,0,0,O,P);const ot=Y.toDataURL("image/png");switch(w){case"download":oe(ot,l[C],f),F("toastNotice",`Quadrant ${C} downloading.`);break;case"clipboard":nt(ot);break;case"background":return ot;default:console.error('Invalid action specified. Please use a valid action such as "download", "clipboard", or "background".');break}},ce=(w,C,O)=>{const P=w.toDataURL(`image/${O}`,.95);oe(P,C,O)},oe=(w,C,O)=>{const P=document.createElement("a");P.href=w,P.download=`${C}${O}`,P.click()},we=w=>{w.toBlob(C=>{const O=new ClipboardItem({"image/png":C});return navigator.clipboard.write([O])})},nt=w=>{fetch(w).then(C=>C.blob()).then(C=>{const O=new ClipboardItem({"image/png":C});return F("toastNotice",`Quadrant ${d} copied to clipboard.`),navigator.clipboard.write([O])}).then(()=>{console.log("Quadrant of image copied to clipboard successfully.")}).catch(C=>{console.error("Failed to copy quadrant of image to clipboard:",C)})},st=(w,C)=>{const O=document.createElement("canvas"),P=O.getContext("2d");return O.width=C.width,O.height=C.height,P.drawImage(w,C.x,C.y,C.width,C.height,0,0,C.width,C.height),O},me=(w,C=0)=>{if(i==="quadrant"&&!o.isDefined)I(w,d);else{const O=o.isDefined?st(_,o):_;w==="download"?(console.log("rootnames:",l),ce(O,l[d],f),F("toastNotice",o.isDefined?"Trim area downloading.":"Full image downloading.")):w==="clipboard"&&(we(O),F("toastNotice",o.isDefined?"Trim area copied to clipboard":"Full image copied to clipboard."))}},it=w=>{const C=parseInt(w)===1||parseInt(w)===3?0:g/2,O=parseInt(w)===1||parseInt(w)===2?0:m/2;return{x1:C,y1:O}},M=w=>{v||(n(0,d=w),B.update(C=>({...C,index:w})))},U=()=>{B.update(w=>({...w,expanded:!w.expanded}))},K=w=>{r?Ct.set(w):M(w)},V=w=>M(w.detail.index),Q=w=>me("clipboard",w.detail.index),N=w=>me("download",w.detail.index),sn=w=>{let C=d;[4,3,2,1].forEach(O=>{n(0,d=O),me("download",O)}),n(0,d=C)},on=()=>U();function ln(w){de[w?"unshift":"push"](()=>{b=w,n(5,b)})}const rn=()=>U(),an=w=>me(w.detail),cn=w=>K(w),un=w=>me(w.detail),dn=()=>M(s);return e.$$set=w=>{"imageUrl"in w&&n(1,u=w.imageUrl),"imageExtension"in w&&n(22,f=w.imageExtension),"currentIndex"in w&&n(0,d=w.currentIndex)},e.$$.update=()=>{e.$$.dirty[0]&16777216&&n(9,i=c.mode),e.$$.dirty[0]&8388608&&n(10,s=o.index),e.$$.dirty[0]&8388608&&n(6,v=o.expanded)},[d,u,p,g,m,b,v,y,E,i,s,q,A,me,it,M,U,K,V,Q,N,sn,f,o,c,on,ln,rn,an,cn,un,dn]}class qs extends pe{constructor(t){super(),fe(this,t,Es,ks,ae,{imageUrl:1,imageExtension:22,currentIndex:0},null,[-1,-1])}}function Ms(e){let t,n,i,s,r,o,l,a,c;return s=new qs({props:{imageUrl:e[0],currentIndex:e[4],imageExtension:e[3]}}),s.$on("toastNotice",e[2]),o=new ls({}),a=new Jn({}),{c(){t=S("main"),n=S("div"),i=S("div"),ie(s.$$.fragment),r=x(),ie(o.$$.fragment),l=x(),ie(a.$$.fragment),h(i,"class","image-stage svelte-1wix96r"),z(i,"fullscreen",e[1]),h(n,"class","image-wrapper svelte-1wix96r")},m(u,f){L(u,t,f),k(t,n),k(n,i),ee(s,i,null),k(t,r),ee(o,t,null),L(u,l,f),ee(a,u,f),c=!0},p(u,[f]){const d={};f&1&&(d.imageUrl=u[0]),s.$set(d),(!c||f&2)&&z(i,"fullscreen",u[1])},i(u){c||(j(s.$$.fragment,u),j(o.$$.fragment,u),j(a.$$.fragment,u),c=!0)},o(u){W(s.$$.fragment,u),W(o.$$.fragment,u),W(a.$$.fragment,u),c=!1},d(u){u&&H(t),te(s),te(o),u&&H(l),te(a,u)}}}let Ss="_q";function As(e,t,n){let i,s,r;X(e,Ce,_=>n(7,i=_)),X(e,se,_=>n(8,s=_)),X(e,Te,_=>n(1,r=_));let o,l;tt(()=>{o.startsWith("blob:")&&URL.revokeObjectURL(o)}),window.location.search&&(l=new URLSearchParams(window.location.search)),o=(l==null?void 0:l.get("image"))||"https://media.discordapp.net/attachments/1060231236733382769/1105121925421867099/sidewaysdesign_multiple_expressions_of_a_cow_in_the_style_of_sa_62ee6891-cbb7-4f2f-9514-e21833b9fecb.webp";const a={duration:1500,intro:{x:256}},c=_=>Ge.push(_.detail,a),u=_=>{const b=_.split("/").pop(),[v,y,E]=b.match(/(.+)(\.\w+)$/)??[];return{rootname:y??b,imageExtension:E??""}},{rootname:f,imageExtension:d}=u(o);let{mode:p}=s,g={currentMode:p,currentName:f,currentIndex:p==="quadrant"?1:0,filenames:[f,...Array.from([1,2,3,4],(_,b)=>`${f}${Ss}${b+1}`)]};pn(Ce,i=g.filenames,i);let m=g.currentIndex;return g.currentIndex=m,[o,r,c,d,m]}class Cs extends pe{constructor(t){super(),fe(this,t,As,Ms,ae,{})}}new Cs({target:document.getElementById("app")});
