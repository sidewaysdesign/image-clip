(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function F(){}const we=e=>e;function at(e,t){for(const n in t)e[n]=t[n];return e}function jt(e){return e()}function vt(){return Object.create(null)}function Z(e){e.forEach(jt)}function He(e){return typeof e=="function"}function ce(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fn(e){return Object.keys(e).length===0}function Pt(e,...t){if(e==null)return F;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ft(e){let t;return Pt(e,n=>t=n)(),t}function Y(e,t,n){e.$$.on_destroy.push(Pt(t,n))}function ge(e){return e??""}function pn(e,t,n){return e.set(n),t}function yt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Ft=typeof window<"u";let Re=Ft?()=>window.performance.now():()=>Date.now(),pt=Ft?e=>requestAnimationFrame(e):F;const Ce=new Set;function Rt(e){Ce.forEach(t=>{t.c(e)||(Ce.delete(t),t.f())}),Ce.size!==0&&pt(Rt)}function Ue(e){let t;return Ce.size===0&&pt(Rt),{promise:new Promise(n=>{Ce.add(t={c:e,f:n})}),abort(){Ce.delete(t)}}}function k(e,t){e.appendChild(t)}function Ut(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function mn(e){const t=S("style");return hn(Ut(e),t),t.sheet}function hn(e,t){return k(e.head||e,t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function zt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function se(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function de(e){return document.createTextNode(e)}function N(){return de(" ")}function ze(){return de("")}function $(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function gn(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function it(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function _n(e){return Array.from(e.childNodes)}function Ye(e,t){t=""+t,e.data!==t&&(e.data=t)}function vn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Xt(e,t,n,i){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function X(e,t,n){e.classList[n?"add":"remove"](t)}function Yt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,i,t),s}class yn{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=se(n.nodeName):this.e=S(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(O)}}function bt(e,t){return new e(t)}const Ve=new Map;let Qe=0;function bn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wn(e,t){const n={stylesheet:mn(t),rules:{}};return Ve.set(e,n),n}function je(e,t,n,i,s,r,o,l=0){const a=16.666/i;let c=`{
`;for(let _=0;_<=1;_+=a){const b=t+(n-t)*r(_);c+=_*100+`%{${o(b,1-b)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${bn(u)}_${l}`,d=Ut(e),{stylesheet:p,rules:g}=Ve.get(d)||wn(d,e);g[f]||(g[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${i}ms linear ${s}ms 1 both`,Qe+=1,f}function Pe(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(e.style.animation=i.join(", "),Qe-=s,Qe||kn())}function kn(){pt(()=>{Qe||(Ve.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)}),Ve.clear())})}function En(e,t,n,i){if(!t)return F;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return F;const{delay:r=0,duration:o=300,easing:l=we,start:a=Re()+r,end:c=a+o,tick:u=F,css:f}=n(e,{from:t,to:s},i);let d=!0,p=!1,g;function m(){f&&(g=je(e,0,1,o,r,l,f)),r||(p=!0)}function _(){f&&Pe(e,g),d=!1}return Ue(b=>{if(!p&&b>=a&&(p=!0),p&&b>=c&&(u(1,0),_()),!d)return!1;if(p){const v=b-a,y=0+1*l(v/o);u(y,1-y)}return!0}),m(),u(0,1),_}function qn(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,Bt(e,s)}}function Bt(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform;e.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Fe;function De(e){Fe=e}function Je(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function Xe(e){Je().$$.on_mount.push(e)}function Mn(e){Je().$$.after_update.push(e)}function mt(e){Je().$$.on_destroy.push(e)}function ht(){const e=Je();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const r=Yt(t,n,{cancelable:i});return s.slice().forEach(o=>{o.call(e,r)}),!r.defaultPrevented}return!0}}function Sn(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Se=[],fe=[];let Ae=[];const ct=[],Wt=Promise.resolve();let ut=!1;function Kt(){ut||(ut=!0,Wt.then(Vt))}function Cn(){return Kt(),Wt}function ae(e){Ae.push(e)}function An(e){ct.push(e)}const ot=new Set;let qe=0;function Vt(){if(qe!==0)return;const e=Fe;do{try{for(;qe<Se.length;){const t=Se[qe];qe++,De(t),Tn(t.$$)}}catch(t){throw Se.length=0,qe=0,t}for(De(null),Se.length=0,qe=0;fe.length;)fe.pop()();for(let t=0;t<Ae.length;t+=1){const n=Ae[t];ot.has(n)||(ot.add(n),n())}Ae.length=0}while(Se.length);for(;ct.length;)ct.pop()();ut=!1,ot.clear(),De(e)}function Tn(e){if(e.fragment!==null){e.update(),Z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}function In(e){const t=[],n=[];Ae.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Ae=t}let Ne;function gt(){return Ne||(Ne=Promise.resolve(),Ne.then(()=>{Ne=null})),Ne}function be(e,t,n){e.dispatchEvent(Yt(`${t?"intro":"outro"}${n}`))}const Ke=new Set;let re;function _e(){re={r:0,c:[],p:re}}function ve(){re.r||Z(re.c),re=re.p}function j(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function z(e,t,n,i){if(e&&e.o){if(Ke.has(e))return;Ke.add(e),re.c.push(()=>{Ke.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const _t={duration:0};function Hn(e,t,n){const i={direction:"in"};let s=t(e,n,i),r=!1,o,l,a=0;function c(){o&&Pe(e,o)}function u(){const{delay:d=0,duration:p=300,easing:g=we,tick:m=F,css:_}=s||_t;_&&(o=je(e,0,1,p,d,g,_,a++)),m(0,1);const b=Re()+d,v=b+p;l&&l.abort(),r=!0,ae(()=>be(e,!0,"start")),l=Ue(y=>{if(r){if(y>=v)return m(1,0),be(e,!0,"end"),c(),r=!1;if(y>=b){const E=g((y-b)/p);m(E,1-E)}}return r})}let f=!1;return{start(){f||(f=!0,Pe(e),He(s)?(s=s(i),gt().then(u)):u())},invalidate(){f=!1},end(){r&&(c(),r=!1)}}}function On(e,t,n){const i={direction:"out"};let s=t(e,n,i),r=!0,o;const l=re;l.r+=1;function a(){const{delay:c=0,duration:u=300,easing:f=we,tick:d=F,css:p}=s||_t;p&&(o=je(e,1,0,u,c,f,p));const g=Re()+c,m=g+u;ae(()=>be(e,!1,"start")),Ue(_=>{if(r){if(_>=m)return d(0,1),be(e,!1,"end"),--l.r||Z(l.c),!1;if(_>=g){const b=f((_-g)/u);d(1-b,b)}}return r})}return He(s)?gt().then(()=>{s=s(i),a()}):a(),{end(c){c&&s.tick&&s.tick(1,0),r&&(o&&Pe(e,o),r=!1)}}}function Be(e,t,n,i){const s={direction:"both"};let r=t(e,n,s),o=i?0:1,l=null,a=null,c=null;function u(){c&&Pe(e,c)}function f(p,g){const m=p.b-o;return g*=Math.abs(m),{a:o,b:p.b,d:m,duration:g,start:p.start,end:p.start+g,group:p.group}}function d(p){const{delay:g=0,duration:m=300,easing:_=we,tick:b=F,css:v}=r||_t,y={start:Re()+g,b:p};p||(y.group=re,re.r+=1),l||a?a=y:(v&&(u(),c=je(e,o,p,m,g,_,v)),p&&b(0,1),l=f(y,m),ae(()=>be(e,p,"start")),Ue(E=>{if(a&&E>a.start&&(l=f(a,m),a=null,be(e,l.b,"start"),v&&(u(),c=je(e,o,l.b,l.duration,0,_,r.css))),l){if(E>=l.end)b(o=l.b,1-o),be(e,l.b,"end"),a||(l.b?u():--l.group.r||Z(l.group.c)),l=null;else if(E>=l.start){const q=E-l.start;o=l.a+l.d*_(q/l.duration),b(o,1-o)}}return!!(l||a)}))}return{run(p){He(r)?gt().then(()=>{r=r(s),d(p)}):d(p)},end(){u(),l=a=null}}}function xn(e,t){z(e,1,1,()=>{t.delete(e.key)})}function Nn(e,t){e.f(),xn(e,t)}function Ln(e,t,n,i,s,r,o,l,a,c,u,f){let d=e.length,p=r.length,g=d;const m={};for(;g--;)m[e[g].key]=g;const _=[],b=new Map,v=new Map,y=[];for(g=p;g--;){const T=f(s,r,g),D=n(T);let R=o.get(D);R?i&&y.push(()=>R.p(T,t)):(R=c(D,T),R.c()),b.set(D,_[g]=R),D in m&&v.set(D,Math.abs(g-m[D]))}const E=new Set,q=new Set;function C(T){j(T,1),T.m(l,u),o.set(T.key,T),u=T.first,p--}for(;d&&p;){const T=_[p-1],D=e[d-1],R=T.key,G=D.key;T===D?(u=T.first,d--,p--):b.has(G)?!o.has(R)||E.has(R)?C(T):q.has(G)?d--:v.get(R)>v.get(G)?(q.add(R),C(T)):(E.add(G),d--):(a(D,o),d--)}for(;d--;){const T=e[d];b.has(T.key)||a(T,o)}for(;p;)C(_[p-1]);return Z(y),_}function Dn(e,t){const n={},i={},s={$$scope:1};let r=e.length;for(;r--;){const o=e[r],l=t[r];if(l){for(const a in o)a in l||(i[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);e[r]=l}else for(const a in o)s[a]=1}for(const o in i)o in n||(n[o]=void 0);return n}function $n(e){return typeof e=="object"&&e!==null?e:{}}const jn=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...jn];function Pn(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function oe(e){e&&e.c()}function te(e,t,n,i){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),i||ae(()=>{const o=e.$$.on_mount.map(jt).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...o):Z(o),e.$$.on_mount=[]}),r.forEach(ae)}function ne(e,t){const n=e.$$;n.fragment!==null&&(In(n.after_update),Z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fn(e,t){e.$$.dirty[0]===-1&&(Se.push(e),Kt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,t,n,i,s,r,o,l=[-1]){const a=Fe;De(e);const c=e.$$={fragment:null,ctx:[],props:r,update:F,not_equal:s,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:vt(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,d,...p)=>{const g=p.length?p[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=g)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](g),u&&Fn(e,f)),d}):[],c.update(),u=!0,Z(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const f=_n(t.target);c.fragment&&c.fragment.l(f),f.forEach(O)}else c.fragment&&c.fragment.c();t.intro&&j(e.$$.fragment),te(e,t.target,t.anchor,t.customElement),Vt()}De(a)}class me{$destroy(){ne(this,1),this.$destroy=F}$on(t,n){if(!He(n))return F;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Qt(e){const t=e-1;return t*t*t+1}function Le(e,{delay:t=0,duration:n=400,easing:i=we}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Rn(e,{delay:t=0,duration:n=400,easing:i=Qt,x:s=0,y:r=0,opacity:o=0}={}){const l=getComputedStyle(e),a=+l.opacity,c=l.transform==="none"?"":l.transform,u=a*(1-o),[f,d]=yt(s),[p,g]=yt(r);return{delay:t,duration:n,easing:i,css:(m,_)=>`
			transform: ${c} translate(${(1-m)*f}${d}, ${(1-m)*p}${g});
			opacity: ${a-u*_}`}}function Un(e,{from:t,to:n},i={}){const s=getComputedStyle(e),r=s.transform==="none"?"":s.transform,[o,l]=s.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*o/n.width-(n.left+o),c=t.top+t.height*l/n.height-(n.top+l),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:d=Qt}=i;return{delay:u,duration:He(f)?f(Math.sqrt(a*a+c*c)):f,easing:d,css:(p,g)=>{const m=g*a,_=g*c,b=p+g*t.width/n.width,v=p+g*t.height/n.height;return`transform: ${r} translate(${m}px, ${_}px) scale(${b}, ${v});`}}}const Me=[];function J(e,t=F){let n;const i=new Set;function s(l){if(ce(e,l)&&(e=l,n)){const a=!Me.length;for(const c of i)c[1](),Me.push(c,e);if(a){for(let c=0;c<Me.length;c+=2)Me[c][0](Me[c+1]);Me.length=0}}}function r(l){s(l(e))}function o(l,a=F){const c=[l,a];return i.add(c),i.size===1&&(n=t(s)||F),l(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}const zn={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function Xn(){const{subscribe:e,update:t}=J(new Array),n={};let i=0;function s(c){return c instanceof Object}function r(c="default",u={}){return n[c]=u,n}function o(c,u){const f={target:"default",...s(c)?c:{...u,msg:c}},d=n[f.target]||{},p={...zn,...d,...f,theme:{...d.theme,...f.theme},classes:[...d.classes||[],...f.classes||[]],id:++i};return t(g=>p.reversed?[...g,p]:[p,...g]),i}function l(c){t(u=>{if(!u.length||c===0)return[];if(typeof c=="function")return u.filter(d=>c(d));if(s(c))return u.filter(d=>d.target!==c.target);const f=c||Math.max(...u.map(d=>d.id));return u.filter(d=>d.id!==f)})}function a(c,u){const f=s(c)?c:{...u,id:c};t(d=>{const p=d.findIndex(g=>g.id===f.id);return p>-1&&(d[p]={...d[p],...f}),d})}return{subscribe:e,push:o,pop:l,set:a,_init:r}}const Ze=Xn();function wt(e){return Object.prototype.toString.call(e)==="[object Date]"}function dt(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=t.map((s,r)=>dt(e[r],s));return s=>i.map(r=>r(s))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(wt(e)&&wt(t)){e=e.getTime(),t=t.getTime();const r=t-e;return o=>new Date(e+o*r)}const i=Object.keys(t),s={};return i.forEach(r=>{s[r]=dt(e[r],t[r])}),r=>{const o={};return i.forEach(l=>{o[l]=s[l](r)}),o}}if(n==="number"){const i=t-e;return s=>e+s*i}throw new Error(`Cannot interpolate ${n} values`)}function Yn(e,t={}){const n=J(e);let i,s=e;function r(o,l){if(e==null)return n.set(e=o),Promise.resolve();s=o;let a=i,c=!1,{delay:u=0,duration:f=400,easing:d=we,interpolate:p=dt}=at(at({},t),l);if(f===0)return a&&(a.abort(),a=null),n.set(e=s),Promise.resolve();const g=Re()+u;let m;return i=Ue(_=>{if(_<g)return!0;c||(m=p(e,o),typeof f=="function"&&(f=f(e,o)),c=!0),a&&(a.abort(),a=null);const b=_-g;return b>f?(n.set(e=o),!1):(n.set(e=m(d(b/f))),!0)}),i.promise}return{set:r,update:(o,l)=>r(o(s,e),l),subscribe:n.subscribe}}function Bn(e){let t,n=e[0].msg+"",i;return{c(){t=new yn(!1),i=ze(),t.a=i},m(s,r){t.m(n,s,r),L(s,i,r)},p(s,r){r&1&&n!==(n=s[0].msg+"")&&t.p(n)},i:F,o:F,d(s){s&&O(i),s&&t.d()}}}function Wn(e){let t,n,i;const s=[e[2]];var r=e[0].component.src;function o(l){let a={};for(let c=0;c<s.length;c+=1)a=at(a,s[c]);return{props:a}}return r&&(t=bt(r,o())),{c(){t&&oe(t.$$.fragment),n=ze()},m(l,a){t&&te(t,l,a),L(l,n,a),i=!0},p(l,a){const c=a&4?Dn(s,[$n(l[2])]):{};if(a&1&&r!==(r=l[0].component.src)){if(t){_e();const u=t;z(u.$$.fragment,1,0,()=>{ne(u,1)}),ve()}r?(t=bt(r,o()),oe(t.$$.fragment),j(t.$$.fragment,1),te(t,n.parentNode,n)):t=null}else r&&t.$set(c)},i(l){i||(t&&j(t.$$.fragment,l),i=!0)},o(l){t&&z(t.$$.fragment,l),i=!1},d(l){l&&O(n),t&&ne(t,l)}}}function kt(e){let t,n,i;return{c(){t=S("div"),h(t,"class","_toastBtn pe svelte-95rq8t"),h(t,"role","button"),h(t,"tabindex","0")},m(s,r){L(s,t,r),n||(i=[$(t,"click",e[4]),$(t,"keydown",e[8])],n=!0)},p:F,d(s){s&&O(t),n=!1,Z(i)}}}function Kn(e){let t,n,i,s,r,o,l,a,c,u;const f=[Wn,Bn],d=[];function p(m,_){return m[0].component?0:1}i=p(e),s=d[i]=f[i](e);let g=e[0].dismissable&&kt(e);return{c(){t=S("div"),n=S("div"),s.c(),r=N(),g&&g.c(),o=N(),l=S("progress"),h(n,"role","status"),h(n,"class","_toastMsg svelte-95rq8t"),X(n,"pe",e[0].component),h(l,"class","_toastBar svelte-95rq8t"),l.value=e[1],h(t,"class","_toastItem svelte-95rq8t"),X(t,"pe",e[0].pausable)},m(m,_){L(m,t,_),k(t,n),d[i].m(n,null),k(t,r),g&&g.m(t,null),k(t,o),k(t,l),a=!0,c||(u=[$(t,"mouseenter",e[9]),$(t,"mouseleave",e[6])],c=!0)},p(m,[_]){let b=i;i=p(m),i===b?d[i].p(m,_):(_e(),z(d[b],1,1,()=>{d[b]=null}),ve(),s=d[i],s?s.p(m,_):(s=d[i]=f[i](m),s.c()),j(s,1),s.m(n,null)),(!a||_&1)&&X(n,"pe",m[0].component),m[0].dismissable?g?g.p(m,_):(g=kt(m),g.c(),g.m(t,o)):g&&(g.d(1),g=null),(!a||_&2)&&(l.value=m[1]),(!a||_&1)&&X(t,"pe",m[0].pausable)},i(m){a||(j(s),a=!0)},o(m){z(s),a=!1},d(m){m&&O(t),d[i].d(),g&&g.d(),c=!1,Z(u)}}}function lt(e,t="undefined"){return typeof e===t}function Vn(e,t,n){let i,{item:s}=t,r=s.initial,o=r,l=!1,a={},c;const u=Yn(s.initial,{duration:s.duration,easing:we});Y(e,u,v=>n(1,i=v));function f(){Ze.pop(s.id)}function d(){(i===1||i===0)&&f()}function p(){!l&&i!==r&&(u.set(i,{duration:0}),l=!0)}function g(){if(l){const v=s.duration,y=v-v*((i-o)/(r-o));u.set(r,{duration:y}).then(d),l=!1}}function m(v=document){if(lt(v.hidden))return;const y=()=>v.hidden?p():g(),E="visibilitychange";v.addEventListener(E,y),c=()=>v.removeEventListener(E,y),y()}Xe(m),mt(()=>{lt(s.onpop,"function")&&s.onpop(s.id),c&&c()});const _=v=>{v instanceof KeyboardEvent&&["Enter"," "].includes(v.key)&&f()},b=()=>{s.pausable&&p()};return e.$$set=v=>{"item"in v&&n(0,s=v.item)},e.$$.update=()=>{if(e.$$.dirty&1&&(lt(s.progress)||n(0,s.next=s.progress,s)),e.$$.dirty&131&&r!==s.next&&(n(7,r=s.next),o=i,l=!1,u.set(r).then(d)),e.$$.dirty&1&&s.component){const{props:v={},sendIdTo:y}=s.component;n(2,a={...v,...y&&{[y]:s.id}})}},[s,i,a,u,f,p,g,r,_,b]}class Qn extends me{constructor(t){super(),pe(this,t,Vn,Kn,ce,{item:0})}}function Et(e,t,n){const i=e.slice();return i[4]=t[n],i}function qt(e,t){let n,i,s,r,o,l,a,c,u=F,f;return i=new Qn({props:{item:t[4]}}),{key:e,first:null,c(){var d;n=S("li"),oe(i.$$.fragment),s=N(),h(n,"class",r=ge((d=t[4].classes)==null?void 0:d.join(" "))+" svelte-1u812xz"),h(n,"style",o=Mt(t[4].theme)),this.first=n},m(d,p){L(d,n,p),te(i,n,null),k(n,s),f=!0},p(d,p){var m;t=d;const g={};p&1&&(g.item=t[4]),i.$set(g),(!f||p&1&&r!==(r=ge((m=t[4].classes)==null?void 0:m.join(" "))+" svelte-1u812xz"))&&h(n,"class",r),(!f||p&1&&o!==(o=Mt(t[4].theme)))&&h(n,"style",o)},r(){c=n.getBoundingClientRect()},f(){qn(n),u(),Bt(n,c)},a(){u(),u=En(n,c,Un,{duration:200})},i(d){f||(j(i.$$.fragment,d),ae(()=>{f&&(a&&a.end(1),l=Hn(n,Rn,t[4].intro),l.start())}),f=!0)},o(d){z(i.$$.fragment,d),l&&l.invalidate(),a=On(n,Le,{}),f=!1},d(d){d&&O(n),ne(i),d&&a&&a.end()}}}function Zn(e){let t,n=[],i=new Map,s,r=e[0];const o=l=>l[4].id;for(let l=0;l<r.length;l+=1){let a=Et(e,r,l),c=o(a);i.set(c,n[l]=qt(c,a))}return{c(){t=S("ul");for(let l=0;l<n.length;l+=1)n[l].c();h(t,"class","_toastContainer svelte-1u812xz")},m(l,a){L(l,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);s=!0},p(l,[a]){if(a&1){r=l[0],_e();for(let c=0;c<n.length;c+=1)n[c].r();n=Ln(n,a,o,1,l,r,i,t,Nn,qt,null,Et);for(let c=0;c<n.length;c+=1)n[c].a();ve()}},i(l){if(!s){for(let a=0;a<r.length;a+=1)j(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)z(n[a]);s=!1},d(l){l&&O(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Mt(e){return e?Object.keys(e).reduce((t,n)=>`${t}${n}:${e[n]};`,""):void 0}function Gn(e,t,n){let i;Y(e,Ze,l=>n(3,i=l));let{options:s={}}=t,{target:r="default"}=t,o=[];return e.$$set=l=>{"options"in l&&n(1,s=l.options),"target"in l&&n(2,r=l.target)},e.$$.update=()=>{e.$$.dirty&6&&Ze._init(r,s),e.$$.dirty&12&&n(0,o=i.filter(l=>l.target===r))},[o,s,r,i]}class Jn extends me{constructor(t){super(),pe(this,t,Gn,Zn,ce,{options:1,target:2})}}const Zt="colorMixerParams",St=localStorage.getItem(Zt),Ct={mode:"whole"},Te=J([]),B=J({triminprogress:!1,isDefined:!1,cancelTrim:!1,index:0,x:0,y:0,width:0,height:0,mode:"whole",expanded:!1}),$e=J(!1),Ge=J(!1);J(null);const Ie=J(!1),rt=J(!1),At=J(null),es=J("");J(null);const ie=J(St?{...Ct,...JSON.parse(St)}:Ct);ie.subscribe(e=>{localStorage.setItem(Zt,JSON.stringify(e))});function ts(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v,y,E,q,C,T;return{c(){t=S("div"),i=N(),s=S("div"),r=S("div"),o=N(),l=S("h3"),l.textContent="An extension to efficiently trim, save and copy to the clipboard images opened directly in the browser window.",a=N(),c=S("p"),c.textContent="Works with PNG, WebP and JPEG formats.",u=N(),f=S("div"),f.innerHTML=`<div class="icon-group svelte-14ygsud"><div class="icon-row svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div id="icon-mode-whole" class="icon-mode-whole svelte-14ygsud"></div> 
          <label for="icon-mode-whole" class="svelte-14ygsud"><span class="svelte-14ygsud">Whole</span></label></div> 
        <div class="icon-unit svelte-14ygsud"><div id="icon-mode-quadrant" class="icon-mode-quadrant svelte-14ygsud"></div> 
          <label for="icon-mode-quadrant" class="svelte-14ygsud"><span class="svelte-14ygsud">Quadrant</span></label></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Modes</h4> 
      <p class="svelte-14ygsud">Whole mode focuses on the entire image. Quadrant mode splits the image into four equal quadrants, handy for quickly processing 2x2 image grids from sources like Midjourney. Controls appear in each quadrant when the mouse is hovered over them.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-group svelte-14ygsud"><div class="icon-row svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div id="icon-expand" class="icon-expand svelte-14ygsud"></div> 
            <label for="icon-expand" class="svelte-14ygsud"><span class="svelte-14ygsud">Expand</span></label></div> 
          <div class="icon-unit svelte-14ygsud"><div id="icon-shrink" class="icon-shrink svelte-14ygsud"></div> 
            <label for="icon-shrink" class="svelte-14ygsud"><span class="svelte-14ygsud">Shrink</span></label></div></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Expand/Shrink</h4> 
      <p class="svelte-14ygsud">In quadrant mode, Expand the quadrant full screen, or shrink to edit all 4 quadrants. The trim tool is only available when a quadrant is expanded.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-triminactive svelte-14ygsud"></div></div></div> 

    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Trim</h4> 
      <p class="svelte-14ygsud">Draw out a rectangular trim area to save or copy part of the image. Use resize handles to adjust the area, or click and drag within the trim area to move it. Clicking outside the trim area resets and deactivates trimming.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-clipboard svelte-14ygsud"></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Copy</h4> 
      <p class="svelte-14ygsud">Copies the image to the clipboard.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"><div class="icon-download svelte-14ygsud"></div></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Download</h4> 
      <p class="svelte-14ygsud">Saves the image (in the originating file format) to the browser download directory.</p></div> 
    <div class="icon-group svelte-14ygsud"><div class="icon-unit svelte-14ygsud"></div></div> 
    <div class="help-text svelte-14ygsud"><h4 class="svelte-14ygsud">Filename</h4> 
      <p class="svelte-14ygsud">Press enter Click on filename to edit. Note that quadrants are automatically suffixed with &quot;_q1,&quot; &quot;_q2,&quot; etc.</p></div> 
    <div class="svelte-14ygsud"></div> 
    <div class="help-text svelte-14ygsud"><h4 class="sm-center gap-top svelte-14ygsud">Keyboard Shortcuts</h4> 
      <ul class="nobullets shortcut-list svelte-14ygsud"><li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">m</span> Toggle between whole and quadrant modes</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">f</span> Toggle fullscreen mode (in quadrant mode)</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">t</span> Activate trim tool</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">c</span> Copy full image or trim area to clipboard</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">d</span> Download full image or trim area.</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Shift</span>+ <span class="keycap svelte-14ygsud">D</span> Download all quadrants (in quadrant mode).</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Esc</span> Deactivate trim tool</li> 
        <li class="svelte-14ygsud"><span class="keycap svelte-14ygsud">Enter</span> Edit filename</li></ul></div>`,d=N(),p=S("p"),g=de("@"),m=de(e[0]),_=N(),b=S("a"),b.textContent="Sideways Design",v=N(),y=S("div"),h(t,"class","help-page-overlay svelte-14ygsud"),h(r,"class","wordmark svelte-14ygsud"),h(l,"class","svelte-14ygsud"),h(c,"class","center svelte-14ygsud"),h(f,"class","help-grid svelte-14ygsud"),h(b,"href","https://sidewaysdesign.com/"),h(b,"class","svelte-14ygsud"),h(p,"class","year svelte-14ygsud"),h(y,"class","icon-close svelte-14ygsud"),h(s,"class","help-page-wrapper svelte-14ygsud")},m(D,R){L(D,t,R),L(D,i,R),L(D,s,R),k(s,r),k(s,o),k(s,l),k(s,a),k(s,c),k(s,u),k(s,f),k(s,d),k(s,p),k(p,g),k(p,m),k(p,_),k(p,b),k(s,v),k(s,y),q=!0,C||(T=[$(t,"click",e[1]),$(t,"keydown",e[2]),$(y,"keydown",e[2]),$(y,"click",e[1])],C=!0)},p:F,i(D){q||(ae(()=>{q&&(n||(n=Be(t,Le,{duration:250},!0)),n.run(1))}),ae(()=>{q&&(E||(E=Be(s,Le,{duration:375},!0)),E.run(1))}),q=!0)},o(D){n||(n=Be(t,Le,{duration:250},!1)),n.run(0),E||(E=Be(s,Le,{duration:375},!1)),E.run(0),q=!1},d(D){D&&O(t),D&&n&&n.end(),D&&O(i),D&&O(s),D&&E&&E.end(),C=!1,Z(T)}}}function ns(e,t,n){let{popupOpen:i}=t;const s=new Date().getFullYear();Xe(()=>document.addEventListener("keydown",r)),mt(()=>document.removeEventListener("keydown",r));function r(a){const u={Escape:()=>n(3,i=!1)}[a.key];u&&u(a)}const o=()=>n(3,i=!1);function l(a){a.key==="Escape"&&o()}return e.$$set=a=>{"popupOpen"in a&&n(3,i=a.popupOpen)},[s,o,l,i]}class ss extends me{constructor(t){super(),pe(this,t,ns,ts,ce,{popupOpen:3})}}function Tt(e){let t,n,i;function s(o){e[13](o)}let r={};return e[1]!==void 0&&(r.popupOpen=e[1]),t=new ss({props:r}),fe.push(()=>Pn(t,"popupOpen",s)),{c(){oe(t.$$.fragment)},m(o,l){te(t,o,l),i=!0},p(o,l){const a={};!n&&l&2&&(n=!0,a.popupOpen=o[1],An(()=>n=!1)),t.$set(a)},i(o){i||(j(t.$$.fragment,o),i=!0)},o(o){z(t.$$.fragment,o),i=!1},d(o){ne(t,o)}}}function is(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v,y,E=e[1]&&Tt(e);return{c(){t=S("div"),n=S("div"),i=S("div"),s=N(),r=S("div"),r.innerHTML=`<div class="wordmark svelte-7qk3k3"></div> 
      <p class="byline svelte-7qk3k3"><a href="https://sidewaysdesign.com" target="blank" class="svelte-7qk3k3">by Sideways Design</a></p>`,o=N(),l=S("div"),a=N(),c=S("div"),u=S("div"),u.innerHTML='<span class="tooltip svelte-7qk3k3">Whole Image</span>',f=N(),d=S("div"),d.innerHTML='<span class="tooltip svelte-7qk3k3">Quadrants</span>',p=N(),g=S("div"),m=N(),E&&E.c(),_=ze(),h(i,"class","mode-control-hide1 svelte-7qk3k3"),h(i,"aria-hidden","true"),h(l,"class","mode-control-info svelte-7qk3k3"),h(u,"class","mode-control mode-control-whole svelte-7qk3k3"),h(u,"aria-label","Whole Image"),h(u,"tabindex","-2"),X(u,"active",e[3].mode==="whole"),h(d,"class","mode-control mode-control-quadrant svelte-7qk3k3"),h(d,"aria-label","Quadrant"),h(d,"tabindex","-1"),X(d,"active",e[3].mode==="quadrant"),h(c,"class","mode-control-container svelte-7qk3k3"),h(g,"aria-hidden","true"),h(g,"class","mode-control-hide2 svelte-7qk3k3"),h(n,"class","mode-control-group svelte-7qk3k3"),h(t,"class","mode-control-wrapper svelte-7qk3k3"),X(t,"tucked",e[0]),X(t,"triminprogress",e[2].triminprogress)},m(q,C){L(q,t,C),k(t,n),k(n,i),k(n,s),k(n,r),k(n,o),k(n,l),k(n,a),k(n,c),k(c,u),k(c,f),k(c,d),k(n,p),k(n,g),L(q,m,C),E&&E.m(q,C),L(q,_,C),b=!0,v||(y=[$(i,"click",e[7]),$(l,"keydown",e[6]),$(l,"click",e[5]),$(u,"keydown",e[8]),$(u,"click",e[9]),$(d,"keydown",e[10]),$(d,"click",e[11]),$(g,"click",e[12])],v=!0)},p(q,[C]){(!b||C&8)&&X(u,"active",q[3].mode==="whole"),(!b||C&8)&&X(d,"active",q[3].mode==="quadrant"),(!b||C&1)&&X(t,"tucked",q[0]),(!b||C&4)&&X(t,"triminprogress",q[2].triminprogress),q[1]?E?(E.p(q,C),C&2&&j(E,1)):(E=Tt(q),E.c(),j(E,1),E.m(_.parentNode,_)):E&&(_e(),z(E,1,1,()=>{E=null}),ve())},i(q){b||(j(E),b=!0)},o(q){z(E),b=!1},d(q){q&&O(t),q&&O(m),E&&E.d(q),q&&O(_),v=!1,Z(y)}}}function os(e,t,n){let i,s;Y(e,B,b=>n(2,i=b)),Y(e,ie,b=>n(3,s=b));let r=!1,o=!1;const l=b=>{b==="quadrant"&&(B.update(v=>({...v,index:1})),ie.update(v=>({...v,mode:"quadrant"}))),b==="whole"&&(B.update(v=>({...v,index:0,expanded:!1})),ie.update(v=>({...v,mode:"whole"})))},a=()=>n(1,o=!0),c=b=>{b.key==="?"&&n(1,o=!0)},u=()=>n(0,r=!0),f=b=>b.key.toLowerCase()==="m"&&l("whole"),d=()=>l("whole"),p=b=>b.key.toLowerCase()==="m"&&l("quadrant"),g=()=>l("quadrant"),m=()=>n(0,r=!1);function _(b){o=b,n(1,o)}return[r,o,i,s,l,a,c,u,f,d,p,g,m,_]}class ls extends me{constructor(t){super(),pe(this,t,os,is,ce,{})}}const Gt=(e,t)=>{Ie.update(n=>!n),ft(Ie)||$e.set(!1),t("expandaction")},Jt=()=>{$e.update(e=>!e)},rs=(e,t)=>{e===ft(B).index&&t("imageaction","download")},as=(e,t)=>{e===ft(B).index&&t("imageaction","clipboard")},cs=()=>{const e=document.activeElement;return e instanceof HTMLElement&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||e.tagName==="FORM"||e.contentEditable==="true")};function It(e,t,n){const i=e.slice();return i[35]=t[n],i}function Ht(e){let t,n,i,s=Math.floor(e[1].x)+"",r,o,l,a,c=Math.floor(e[1].y)+"",u,f,d,p,g=Math.floor(e[1].width)+"",m,_,b,v,y=Math.floor(e[1].height)+"",E;return{c(){t=S("div"),n=S("p"),i=S("span"),i.textContent="x:",r=de(s),o=N(),l=S("p"),a=S("span"),a.textContent="y:",u=de(c),f=N(),d=S("p"),p=S("span"),p.textContent="w:",m=de(g),_=N(),b=S("p"),v=S("span"),v.textContent="h:",E=de(y),h(i,"class","svelte-g41pfg"),h(n,"class","svelte-g41pfg"),h(a,"class","svelte-g41pfg"),h(l,"class","svelte-g41pfg"),h(p,"class","svelte-g41pfg"),h(d,"class","svelte-g41pfg"),h(v,"class","svelte-g41pfg"),h(b,"class","svelte-g41pfg"),h(t,"class","trim-stats svelte-g41pfg")},m(q,C){L(q,t,C),k(t,n),k(n,i),k(n,r),k(t,o),k(t,l),k(l,a),k(l,u),k(t,f),k(t,d),k(d,p),k(d,m),k(t,_),k(t,b),k(b,v),k(b,E)},p(q,C){C[0]&2&&s!==(s=Math.floor(q[1].x)+"")&&Ye(r,s),C[0]&2&&c!==(c=Math.floor(q[1].y)+"")&&Ye(u,c),C[0]&2&&g!==(g=Math.floor(q[1].width)+"")&&Ye(m,g),C[0]&2&&y!==(y=Math.floor(q[1].height)+"")&&Ye(E,y)},d(q){q&&O(t)}}}function Ot(e){let t;return{c(){t=se("rect"),h(t,"class","handle svelte-g41pfg"),h(t,"id",e[35].id),h(t,"x","-100"),h(t,"y","-100"),h(t,"width",We),h(t,"height",We),Xt(t,"cursor",e[35].cursor),h(t,"rx",We/2),h(t,"ry",We/2)},m(n,i){L(n,t,i)},p:F,d(n){n&&O(t)}}}function us(e){let t,n,i,s,r,o,l,a,c,u,f,d,p=(e[8]||e[5]||e[7]||e[6])&&Ht(e),g=e[9],m=[];for(let _=0;_<g.length;_+=1)m[_]=Ot(It(e,g,_));return{c(){t=S("div"),n=S("div"),p&&p.c(),i=N(),s=se("svg"),r=se("defs"),o=se("rect"),l=se("clipPath"),a=se("use"),c=se("use"),u=se("use"),f=se("path"),d=se("rect");for(let _=0;_<m.length;_+=1)m[_].c();h(n,"class","trim-stats-container svelte-g41pfg"),h(o,"vector-effect","non-scaling-stroke"),h(o,"shape-rendering","geometricPrecision"),h(o,"id","bbox"),h(o,"x","0"),h(o,"y","0"),h(o,"width","0"),h(o,"height","0"),it(a,"xlink:href","#bbox"),h(l,"id","insideStrokeOnly"),it(c,"xlink:href","#bbox"),h(c,"stroke-width","2px"),h(c,"stroke","white"),h(c,"fill","none"),h(c,"clip-path","url(#insideStrokeOnly)"),it(u,"xlink:href","#bbox"),h(u,"stroke-width","2px"),h(u,"stroke-dasharray","2,2"),h(u,"stroke","#777"),h(u,"fill","none"),h(u,"clip-path","url(#insideStrokeOnly)"),h(f,"id",en),h(f,"fill","#000"),h(f,"d","M-100,-100H0V0H-100ZM-100,-100H0V0H-100Z"),h(f,"fill-rule","evenodd"),h(f,"opacity","0.5"),h(d,"id",tn),h(d,"x","-100"),h(d,"y","-100"),h(d,"width","0"),h(d,"height","0"),Xt(d,"cursor","grab"),h(d,"fill","transparent"),h(s,"width","100%"),h(s,"height","100%"),h(s,"class","inactive svelte-g41pfg"),h(t,"class","trim-stage svelte-g41pfg")},m(_,b){L(_,t,b),k(t,n),p&&p.m(n,null),e[11](n),k(t,i),k(t,s),k(s,r),k(r,o),e[12](o),k(r,l),k(l,a),k(s,c),k(s,u),k(s,f),e[13](f),k(s,d);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(s,null);e[14](s)},p(_,b){if(_[8]||_[5]||_[7]||_[6]?p?p.p(_,b):(p=Ht(_),p.c(),p.m(n,null)):p&&(p.d(1),p=null),b[0]&512){g=_[9];let v;for(v=0;v<g.length;v+=1){const y=It(_,g,v);m[v]?m[v].p(y,b):(m[v]=Ot(y),m[v].c(),m[v].m(s,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=g.length}},i:F,o:F,d(_){_&&O(t),p&&p.d(),e[11](null),e[12](null),e[13](null),zt(m,_),e[14](null)}}}const en="focusOverlay",tn="movehandle",We=14;function ds(e,t,n){let{frameSpecs:i}=t,s,r,o,l,a,c,u=i.width,f=i.height,d=i.x1,p=i.y1,g=i.factor,m={x:0,y:0,width:0,height:0},_=!1,b=!1,v=!1,y,E,q,C,T,D={x:d,y:p,width:u,height:f},R=!1;const G=[{id:"top-left",cursor:"nw-resize"},{id:"top-right",cursor:"ne-resize"},{id:"bottom-left",cursor:"sw-resize"},{id:"bottom-right",cursor:"se-resize"}];Xe(()=>{s.addEventListener("mousedown",Oe),s.addEventListener("mousemove",xe),s.addEventListener("mouseup",I),G.forEach(M=>{M.ref=document.querySelector(`svg #${M.id}`)}),c=document.querySelector(`svg #${tn}`),n(2,o=document.querySelector(`svg #${en}`)),o.addEventListener("click",ke)});async function Oe(M){r=s.getBoundingClientRect(),C=r.left,T=r.top,M.target===s?(E=M.clientX-C,q=M.clientY-T,n(5,_=!0),s.classList.remove("inactive"),n(1,m={x:0,y:0,width:0,height:0}),o.setAttribute("d",`M0,0H${r.width}V${r.height}H0Z`)):M.target.classList.contains("handle")?(E=M.clientX-C,q=M.clientY-T,n(6,b=!0),y=M.target):M.target.id==="movehandle"&&(E=M.clientX-m.x,q=M.clientY-m.y,n(7,v=!0)),B.update(U=>({...U,triminprogress:!0}))}function xe(M){let U,K,V,Q;if(_)U=Math.min(E,M.clientX-C),K=Math.min(q,M.clientY-T),V=Math.abs(E-M.clientX+C),Q=Math.abs(q-M.clientY+T);else if(b){const x=m;switch(U=m.x,K=m.y,V=m.width,Q=m.height,y.id){case"top-left":U=Math.min(M.clientX-C,x.x+x.width),K=Math.min(M.clientY-T,x.y+x.height),V=Math.abs(x.x+x.width-U),Q=Math.abs(x.y+x.height-K);break;case"top-right":K=Math.min(M.clientY-T,x.y+x.height),V=Math.abs(M.clientX-C-x.x),Q=Math.abs(x.y+x.height-K);break;case"bottom-left":U=Math.min(M.clientX-C,x.x+x.width),V=Math.abs(x.x+x.width-U),Q=Math.abs(M.clientY-T-x.y);break;case"bottom-right":V=Math.abs(M.clientX-C-x.x),Q=Math.abs(M.clientY-T-x.y);break}}else v&&(U=Math.min(Math.max(0,M.clientX-E),r.width-m.width),K=Math.min(Math.max(0,M.clientY-q),r.height-m.height),V=m.width,Q=m.height);(_||b||v)&&(le(U,K,V,Q),ue(U+V/2,K+Q/2),n(1,m={x:U,y:K,width:V,height:Q}))}function I(){n(5,_=!1),n(6,b=!1),n(7,v=!1),n(8,R=!!(m.width&&m.height)),R&&B.update(M=>({...M,...D})),B.update(M=>({...M,isDefined:R,triminprogress:!1}))}function ue(M,U){n(3,l.style.left=`${M}px`,l),n(3,l.style.top=`${U}px`,l)}function le(M,U,K,V){a.setAttribute("x",M),a.setAttribute("y",U),a.setAttribute("width",K),a.setAttribute("height",V),c.setAttribute("x",M),c.setAttribute("y",U),c.setAttribute("width",K),c.setAttribute("height",V),G.forEach(Q=>{const x=Q.ref;switch(Q.id){case"top-left":x.setAttribute("x",M),x.setAttribute("y",U);break;case"top-right":x.setAttribute("x",M+K),x.setAttribute("y",U);break;case"bottom-left":x.setAttribute("x",M),x.setAttribute("y",U+V);break;case"bottom-right":x.setAttribute("x",M+K),x.setAttribute("y",U+V);break}}),o.setAttribute("d",`M0,0H${r.width}V${r.height}H0ZM${M},${U}H${M+K}V${U+V}H${M}Z`)}function ke(){n(8,R=!1),B.update(M=>({...M,isDefined:!1,cancelTrim:!0})),le(-100,-100,0,0),G.forEach(M=>{M.ref.setAttribute("x",-100),M.ref.setAttribute("y",-100)}),o.setAttribute("d","M-100,-100H0V0H-100ZM-100,-100H0V0H-100Z")}function et(M){fe[M?"unshift":"push"](()=>{l=M,n(3,l)})}function tt(M){fe[M?"unshift":"push"](()=>{a=M,n(4,a)})}function he(M){fe[M?"unshift":"push"](()=>{o=M,n(2,o)})}function nt(M){fe[M?"unshift":"push"](()=>{s=M,n(0,s)})}return e.$$set=M=>{"frameSpecs"in M&&n(10,i=M.frameSpecs)},e.$$.update=()=>{e.$$.dirty[0]&3&&s&&(D={x:Math.floor(m.x/s.clientWidth*u*g)+d,y:Math.floor(m.y/s.clientHeight*f*g)+p,width:Math.floor(m.width/s.clientWidth*u*g),height:Math.floor(m.height/s.clientHeight*f*g)})},[s,m,o,l,a,_,b,v,R,G,i,et,tt,he,nt]}class fs extends me{constructor(t){super(),pe(this,t,ds,us,ce,{frameSpecs:10},null,[-1,-1])}}function xt(e){let t,n,i;return n=new fs({props:{frameSpecs:e[1]}}),{c(){t=S("div"),oe(n.$$.fragment),h(t,"class","trim-action svelte-jubwb9")},m(s,r){L(s,t,r),te(n,t,null),i=!0},p(s,r){const o={};r&2&&(o.frameSpecs=s[1]),n.$set(o)},i(s){i||(j(n.$$.fragment,s),i=!0)},o(s){z(n.$$.fragment,s),i=!1},d(s){s&&O(t),ne(n)}}}function Nt(e){let t,n,i,s;return{c(){t=S("button"),h(t,"tabindex","0"),h(t,"class",n=ge(`isolate-control ${e[8]?"icon-trimactive":"icon-triminactive"}`)+" svelte-jubwb9")},m(r,o){L(r,t,o),i||(s=$(t,"click",e[20]),i=!0)},p(r,o){o&256&&n!==(n=ge(`isolate-control ${r[8]?"icon-trimactive":"icon-triminactive"}`)+" svelte-jubwb9")&&h(t,"class",n)},d(r){r&&O(t),i=!1,s()}}}function Lt(e){let t,n,i,s;return{c(){t=S("button"),h(t,"tabindex","0"),h(t,"class",n=ge(`isolate-control ${e[9]&&e[6]?"icon-shrink":"icon-expand"}`)+" svelte-jubwb9")},m(r,o){L(r,t,o),i||(s=$(t,"click",e[21]),i=!0)},p(r,o){o&576&&n!==(n=ge(`isolate-control ${r[9]&&r[6]?"icon-shrink":"icon-expand"}`)+" svelte-jubwb9")&&h(t,"class",n)},d(r){r&&O(t),i=!1,s()}}}function ps(e){let t,n,i,s,r,o,l,a,c,u,f,d,p,g,m,_,b,v=e[8]&&e[6]&&xt(e),y=(e[7]!=="quadrant"||e[9])&&Nt(e),E=e[7]==="quadrant"&&Lt(e);return{c(){t=S("div"),v&&v.c(),n=N(),i=S("div"),s=S("div"),r=S("div"),o=S("div"),l=de(e[5]),a=N(),c=S("button"),u=N(),f=S("button"),d=N(),p=S("div"),y&&y.c(),g=N(),E&&E.c(),h(o,"class","filename-text editing svelte-jubwb9"),h(o,"tabindex","-1"),h(o,"contenteditable",""),e[5]===void 0&&ae(()=>e[17].call(o)),X(o,"editing",e[4]),h(c,"class","icon-download svelte-jubwb9"),h(r,"class","filename-area svelte-jubwb9"),h(r,"data-index",e[0]),h(f,"class","icon-clipboard svelte-jubwb9"),h(s,"class","controls-wrapper svelte-jubwb9"),h(p,"class","isolate-controls svelte-jubwb9"),h(i,"class","image-action svelte-jubwb9"),h(t,"class","svelte-jubwb9"),X(t,"triminprogress",e[3].triminprogress)},m(q,C){L(q,t,C),v&&v.m(t,null),k(t,n),k(t,i),k(i,s),k(s,r),k(r,o),k(o,l),e[16](o),e[5]!==void 0&&(o.textContent=e[5]),k(r,a),k(r,c),k(s,u),k(s,f),k(i,d),k(i,p),y&&y.m(p,null),k(p,g),E&&E.m(p,null),m=!0,_||(b=[$(o,"blur",e[11]),$(o,"input",e[17]),$(o,"click",gn(e[15])),$(o,"keydown",e[13]),$(c,"click",e[18]),$(f,"click",e[19]),$(t,"blur",e[12])],_=!0)},p(q,[C]){q[8]&&q[6]?v?(v.p(q,C),C&320&&j(v,1)):(v=xt(q),v.c(),j(v,1),v.m(t,n)):v&&(_e(),z(v,1,1,()=>{v=null}),ve()),(!m||C&32)&&vn(l,q[5]),C&32&&q[5]!==o.textContent&&(o.textContent=q[5]),(!m||C&16)&&X(o,"editing",q[4]),(!m||C&1)&&h(r,"data-index",q[0]),q[7]!=="quadrant"||q[9]?y?y.p(q,C):(y=Nt(q),y.c(),y.m(p,g)):y&&(y.d(1),y=null),q[7]==="quadrant"?E?E.p(q,C):(E=Lt(q),E.c(),E.m(p,null)):E&&(E.d(1),E=null),(!m||C&8)&&X(t,"triminprogress",q[3].triminprogress)},i(q){m||(j(v),m=!0)},o(q){z(v),m=!1},d(q){q&&O(t),v&&v.d(),e[16](null),y&&y.d(),E&&E.d(),_=!1,Z(b)}}}function ms(e,t,n){let i,s,r,o,l,a,c,u;Y(e,B,I=>n(3,r=I)),Y(e,ie,I=>n(14,o=I)),Y(e,Ge,I=>n(4,l=I)),Y(e,Te,I=>n(23,a=I)),Y(e,$e,I=>n(8,c=I)),Y(e,Ie,I=>n(9,u=I));let{index:f}=t,{frameSpecs:d}=t,p,g;const m=ht(),_=(I,ue)=>{Te.update(le=>{const ke=[...le];return ke[I]=ue,ke})},b=()=>{let I=p.innerText;if(I.length===0){n(5,v=g);return}_(f,I),Ge.set(!1)};let v=a[f];const y=I=>{$e.set(!1),Ie.set(!1)},E=I=>{const ue=document.createRange();ue.selectNodeContents(I),ue.collapse(!1);const le=window.getSelection();le.removeAllRanges(),le.addRange(ue)},q=I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),n(2,p.innerText=g,p),p.blur())};function C(I){Sn.call(this,e,I)}function T(I){fe[I?"unshift":"push"](()=>{p=I,n(2,p)})}function D(){v=this.textContent,n(5,v)}const R=()=>rs(f,m),G=()=>as(f,m),Oe=()=>Jt(),xe=()=>Gt(f,m);return e.$$set=I=>{"index"in I&&n(0,f=I.index),"frameSpecs"in I&&n(1,d=I.frameSpecs)},e.$$.update=()=>{e.$$.dirty&20&&l&&Cn().then(()=>E(p)),e.$$.dirty&8&&r.cancelTrim&&($e.set(!1),B.update(I=>({...I,cancelTrim:!1,isDefined:!1}))),e.$$.dirty&16384&&n(7,i=o.mode),e.$$.dirty&9&&n(6,s=r.index===f)},[f,d,p,r,l,v,s,i,c,u,m,b,y,q,o,C,T,D,R,G,Oe,xe]}class nn extends me{constructor(t){super(),pe(this,t,ms,ps,ce,{index:0,frameSpecs:1})}}function hs(e,t,n){let i,s,r,o,l,a;Y(e,Ie,y=>n(3,s=y)),Y(e,Ge,y=>n(4,r=y)),Y(e,B,y=>n(1,o=y)),Y(e,ie,y=>n(5,l=y)),Y(e,Te,y=>n(6,a=y));let{index:c}=t;const u=ht(),f=y=>{es.set(a[y]),Ge.set(!0)},d=y=>{l.mode!=="quadrant"&&(B.update(E=>({...E,index:y})),ie.update(E=>({...E,mode:"quadrant"}))),u("switchquadrant",{index:y})},p=()=>{c!==0?(o.expanded&&u("expandaction"),B.update(y=>({...y,index:0,expanded:!1})),ie.update(y=>({...y,mode:"whole"}))):(ie.update(y=>({...y,mode:"quadrant"})),B.update(y=>({...y,index:1})))},g=y=>{u("copytoclipboard",{index:i})},m=y=>{u("downloadfile",{index:i})},_=y=>{o.isDefined||(i==0?u("downloadfile",{index:0}):u("downloadall"))},b=()=>{const y=document.activeElement;if(y&&y instanceof HTMLElement){y.blur(),event.preventDefault();return}},v=y=>{if(y.metaKey||y.altKey)return;if(r&&y.key==="Enter"){b();return}if(cs())return;const q={1:()=>d(1),2:()=>d(2),3:()=>d(3),4:()=>d(4),c:()=>g(),t:()=>Jt(),f:()=>Gt(i,u),D:()=>_(),d:()=>m(),m:()=>p(),Enter:()=>f(c),Escape:()=>{b(),B.update(C=>({...C,cancelTrim:!0,isDefined:!1}))},"[":()=>{if(c===0||!s)return;const C=c===1?4:(c-1)%4;B.update(T=>({...T,index:C}))},"]":()=>{if(c===0||!s)return;const C=c===4?1:(c+1)%5;B.update(T=>({...T,index:C}))}}[y.key];q&&(y.preventDefault(),q(y))};return Xe(()=>document.addEventListener("keydown",v)),mt(()=>document.removeEventListener("keydown",v)),e.$$set=y=>{"index"in y&&n(0,c=y.index)},e.$$.update=()=>{e.$$.dirty&2&&(i=o.index)},[c,o]}class gs extends me{constructor(t){super(),pe(this,t,hs,null,ce,{index:0})}}function Dt(e,t,n){const i=e.slice();return i[10]=t[n],i}function _s(e){let t;return{c(){t=S("div"),t.innerHTML="<p>Error loading image dimensions.</p>"},m(n,i){L(n,t,i)},p:F,i:F,o:F,d(n){n&&O(t)}}}function vs(e){let t,n,i,s,r,o,l;const a=[ws,bs],c=[];function u(f,d){return f[9]==="quadrant"?0:1}return s=u(e),r=c[s]=a[s](e),{c(){t=S("div"),n=S("div"),i=S("div"),r.c(),h(i,"class","image-tracker svelte-1pm0f92"),X(i,"expanded",e[6]),X(i,"quadrants",e[9]==="quadrant"),h(n,"class","image-shim svelte-1pm0f92"),h(n,"style",o=`${e[7]}`),h(t,"class","image-base")},m(f,d){L(f,t,d),k(t,n),k(n,i),c[s].m(i,null),l=!0},p(f,d){let p=s;s=u(f),s===p?c[s].p(f,d):(_e(),z(c[p],1,1,()=>{c[p]=null}),ve(),r=c[s],r?r.p(f,d):(r=c[s]=a[s](f),r.c()),j(r,1),r.m(i,null)),(!l||d[0]&64)&&X(i,"expanded",f[6]),(!l||d[0]&512)&&X(i,"quadrants",f[9]==="quadrant"),(!l||d[0]&128&&o!==(o=`${f[7]}`))&&h(n,"style",o)},i(f){l||(j(r),l=!0)},o(f){z(r),l=!1},d(f){f&&O(t),c[s].d()}}}function ys(e){let t;return{c(){t=S("div"),t.innerHTML='<div class="spinner svelte-1pm0f92">Loading...</div>',h(t,"class","spinner-container svelte-1pm0f92")},m(n,i){L(n,t,i)},p:F,i:F,o:F,d(n){n&&O(t)}}}function bs(e){let t,n,i,s,r,o;return n=new nn({props:{index:e[10],frameSpecs:e[8]}}),n.$on("imageaction",e[30]),{c(){t=S("div"),oe(n.$$.fragment),h(t,"class","whole active svelte-1pm0f92"),h(t,"style",i=`background-image:url(${e[1]});${e[7]}`)},m(l,a){L(l,t,a),te(n,t,null),s=!0,r||(o=$(t,"mouseenter",e[31]),r=!0)},p(l,a){const c={};a[0]&1024&&(c.index=l[10]),a[0]&256&&(c.frameSpecs=l[8]),n.$set(c),(!s||a[0]&130&&i!==(i=`background-image:url(${l[1]});${l[7]}`))&&h(t,"style",i)},i(l){s||(j(n.$$.fragment,l),s=!0)},o(l){z(n.$$.fragment,l),s=!1},d(l){l&&O(t),ne(n),r=!1,o()}}}function ws(e){let t,n,i=[1,2,3,4],s=[];for(let o=0;o<4;o+=1)s[o]=$t(Dt(e,i,o));const r=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<4;o+=1)s[o].c();t=ze()},m(o,l){for(let a=0;a<4;a+=1)s[a]&&s[a].m(o,l);L(o,t,l),n=!0},p(o,l){if(l[0]&228259){i=[1,2,3,4];let a;for(a=0;a<4;a+=1){const c=Dt(o,i,a);s[a]?(s[a].p(c,l),j(s[a],1)):(s[a]=$t(c),s[a].c(),j(s[a],1),s[a].m(t.parentNode,t))}for(_e(),a=4;a<4;a+=1)r(a);ve()}},i(o){if(!n){for(let l=0;l<4;l+=1)j(s[l]);n=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<4;l+=1)z(s[l]);n=!1},d(o){zt(s,o),o&&O(t)}}}function $t(e){let t,n,i,s,r,o,l,a,c,u;s=new nn({props:{index:e[10],frameSpecs:{...e[8],...e[14](e[10]),factor:.5}}}),s.$on("expandaction",e[27]),s.$on("imageaction",e[28]);function f(){return e[29](e[10])}return{c(){t=S("div"),n=S("div"),i=N(),oe(s.$$.fragment),r=N(),h(t,"style",o=`background-image:url(${e[1]});${e[7]}`),h(t,"class",l=ge(e[9])+" svelte-1pm0f92"),X(t,"active",e[0]===e[10])},m(d,p){L(d,t,p),k(t,n),e[26](n),k(t,i),te(s,t,null),k(t,r),a=!0,c||(u=[$(t,"mouseenter",f),$(t,"transitionstart",e[11]),$(t,"transitionend",e[12])],c=!0)},p(d,p){e=d;const g={};p[0]&256&&(g.frameSpecs={...e[8],...e[14](e[10]),factor:.5}),s.$set(g),(!a||p[0]&130&&o!==(o=`background-image:url(${e[1]});${e[7]}`))&&h(t,"style",o),(!a||p[0]&512&&l!==(l=ge(e[9])+" svelte-1pm0f92"))&&h(t,"class",l),(!a||p[0]&513)&&X(t,"active",e[0]===e[10])},i(d){a||(j(s.$$.fragment,d),a=!0)},o(d){z(s.$$.fragment,d),a=!1},d(d){d&&O(t),e[26](null),ne(s),c=!1,Z(u)}}}function ks(e){let t,n,i,s,r,o;t=new gs({props:{index:e[10]}}),t.$on("downloadfile",e[20]),t.$on("downloadall",e[21]),t.$on("copytoclipboard",e[19]),t.$on("switchquadrant",e[18]),t.$on("expandaction",e[25]);const l=[ys,vs,_s],a=[];function c(u,f){return u[2]?0:u[3]&&u[4]?1:2}return i=c(e),s=a[i]=l[i](e),{c(){oe(t.$$.fragment),n=N(),s.c(),r=ze()},m(u,f){te(t,u,f),L(u,n,f),a[i].m(u,f),L(u,r,f),o=!0},p(u,f){const d={};f[0]&1024&&(d.index=u[10]),t.$set(d);let p=i;i=c(u),i===p?a[i].p(u,f):(_e(),z(a[p],1,1,()=>{a[p]=null}),ve(),s=a[i],s?s.p(u,f):(s=a[i]=l[i](u),s.c()),j(s,1),s.m(r.parentNode,r))},i(u){o||(j(t.$$.fragment,u),j(s),o=!0)},o(u){z(t.$$.fragment,u),z(s),o=!1},d(u){ne(t,u),u&&O(n),a[i].d(u),u&&O(r)}}}function Es(e,t,n){let i,s,r,o,l,a,c;Y(e,rt,w=>n(33,r=w)),Y(e,B,w=>n(23,o=w)),Y(e,Te,w=>n(34,l=w)),Y(e,At,w=>n(35,a=w)),Y(e,ie,w=>n(24,c=w));let{imageUrl:u}=t,{imageExtension:f}=t,{currentIndex:d}=t,p=!0,g,m,_,b,v=!1,y="",E;Xe(async()=>{const w=await D(u);n(8,E={width:w.width,height:w.height,x1:0,y1:0,factor:1}),n(3,g=w.width),n(4,m=w.height),_=w.canvas,n(7,y=G(g,m))}),Mn(()=>{_&&b&&i==="whole"&&b.appendChild(_)});const q=w=>{w.target===w.currentTarget&&rt.set(!0)},C=w=>{w.target===w.currentTarget&&(rt.set(!1),console.log("$lastHovered:",a),a&&a!==d&&M(a))},T=async w=>{const A=new Image;return A.crossOrigin="anonymous",A.src=w,await A.decode(),A},D=async w=>{n(2,p=!0);let A,H,P;try{const W=performance.now(),ee=await T(w),Ee=((performance.now()-W)/1e3).toFixed(2);return A=ee.width,H=ee.height,P=Oe(ee,0,0,A,H),{width:A,height:H,canvas:P}}catch(W){console.error("Error getting image dimensions:",W)}finally{n(2,p=!1)}},R=ht(),G=(w,A)=>{const H=(ye,Ee)=>Ee===0?ye:H(Ee,ye%Ee),P=H(w,A),W=w/P,ee=A/P;return`aspect-ratio: ${W} / ${ee};`},Oe=(w,A,H,P,W)=>{const ee=document.createElement("canvas"),ye=ee.getContext("2d");return ee.width=P,ee.height=W,ye.drawImage(w,0,0,P,W),ee},xe=(w,A,H)=>{let P,W;switch(w){case 1:P=0,W=0;break;case 2:P=A,W=0;break;case 3:P=0,W=H;break;case 4:P=A,W=H;break;default:P=0,W=0}return{sx:P,sy:W}},I=(w="download",A)=>{const H=parseInt(A)===0?g:g/2,P=parseInt(A)===0?m:m/2,W=document.createElement("canvas"),ee=W.getContext("2d");W.width=H,W.height=P;let{sx:ye,sy:Ee}=xe(A,H,P);ee.drawImage(_,ye,Ee,H,P,0,0,H,P);const st=W.toDataURL("image/png");switch(w){case"download":le(st,l[A],f),R("toastNotice",`Quadrant ${A} downloading.`);break;case"clipboard":et(st);break;case"background":return st;default:console.error('Invalid action specified. Please use a valid action such as "download", "clipboard", or "background".');break}},ue=(w,A,H)=>{const P=w.toDataURL(`image/${H}`,.95);le(P,A,H)},le=(w,A,H)=>{const P=document.createElement("a");P.href=w,P.download=`${A}${H}`,P.click()},ke=w=>{w.toBlob(A=>{const H=new ClipboardItem({"image/png":A});return navigator.clipboard.write([H])})},et=w=>{fetch(w).then(A=>A.blob()).then(A=>{const H=new ClipboardItem({"image/png":A});return R("toastNotice",`Quadrant ${d} copied to clipboard.`),navigator.clipboard.write([H])}).then(()=>{console.log("Quadrant of image copied to clipboard successfully.")}).catch(A=>{console.error("Failed to copy quadrant of image to clipboard:",A)})},tt=(w,A)=>{const H=document.createElement("canvas"),P=H.getContext("2d");return H.width=A.width,H.height=A.height,P.drawImage(w,A.x,A.y,A.width,A.height,0,0,A.width,A.height),H},he=(w,A=0)=>{if(i==="quadrant"&&!o.isDefined)I(w,d);else{const H=o.isDefined?tt(_,o):_;w==="download"?(ue(H,l[d],f),R("toastNotice",o.isDefined?"Trim area downloading.":"Full image downloading.")):w==="clipboard"&&(ke(H),R("toastNotice",o.isDefined?"Trim area copied to clipboard":"Full image copied to clipboard."))}},nt=w=>{const A=parseInt(w)===1||parseInt(w)===3?0:g/2,H=parseInt(w)===1||parseInt(w)===2?0:m/2;return{x1:A,y1:H}},M=w=>{v||(n(0,d=w),B.update(A=>({...A,index:w})))},U=()=>{B.update(w=>({...w,expanded:!w.expanded}))},K=w=>{r?At.set(w):M(w)},V=w=>M(w.detail.index),Q=w=>he("clipboard",w.detail.index),x=w=>he("download",w.detail.index),sn=w=>{let A=d;[4,3,2,1].forEach(H=>{n(0,d=H),he("download",H)}),n(0,d=A)},on=()=>U();function ln(w){fe[w?"unshift":"push"](()=>{b=w,n(5,b)})}const rn=()=>U(),an=w=>he(w.detail),cn=w=>K(w),un=w=>he(w.detail),dn=()=>M(s);return e.$$set=w=>{"imageUrl"in w&&n(1,u=w.imageUrl),"imageExtension"in w&&n(22,f=w.imageExtension),"currentIndex"in w&&n(0,d=w.currentIndex)},e.$$.update=()=>{e.$$.dirty[0]&16777216&&n(9,i=c.mode),e.$$.dirty[0]&8388608&&n(10,s=o.index),e.$$.dirty[0]&8388608&&n(6,v=o.expanded)},[d,u,p,g,m,b,v,y,E,i,s,q,C,he,nt,M,U,K,V,Q,x,sn,f,o,c,on,ln,rn,an,cn,un,dn]}class qs extends me{constructor(t){super(),pe(this,t,Es,ks,ce,{imageUrl:1,imageExtension:22,currentIndex:0},null,[-1,-1])}}function Ms(e){let t,n,i,s,r,o,l,a,c;return s=new qs({props:{imageUrl:e[0],currentIndex:e[4],imageExtension:e[3]}}),s.$on("toastNotice",e[2]),o=new ls({}),a=new Jn({}),{c(){t=S("main"),n=S("div"),i=S("div"),oe(s.$$.fragment),r=N(),oe(o.$$.fragment),l=N(),oe(a.$$.fragment),h(i,"class","image-stage svelte-1wix96r"),X(i,"fullscreen",e[1]),h(n,"class","image-wrapper svelte-1wix96r")},m(u,f){L(u,t,f),k(t,n),k(n,i),te(s,i,null),k(t,r),te(o,t,null),L(u,l,f),te(a,u,f),c=!0},p(u,[f]){const d={};f&1&&(d.imageUrl=u[0]),s.$set(d),(!c||f&2)&&X(i,"fullscreen",u[1])},i(u){c||(j(s.$$.fragment,u),j(o.$$.fragment,u),j(a.$$.fragment,u),c=!0)},o(u){z(s.$$.fragment,u),z(o.$$.fragment,u),z(a.$$.fragment,u),c=!1},d(u){u&&O(t),ne(s),ne(o),u&&O(l),ne(a,u)}}}let Ss="_q";function Cs(e,t,n){let i,s,r;Y(e,Te,_=>n(7,i=_)),Y(e,ie,_=>n(8,s=_)),Y(e,Ie,_=>n(1,r=_));let o,l;window.location.search&&(l=new URLSearchParams(window.location.search)),o=(l==null?void 0:l.get("image"))||"https://media.discordapp.net/attachments/1060231236733382769/1105121925421867099/sidewaysdesign_multiple_expressions_of_a_cow_in_the_style_of_sa_62ee6891-cbb7-4f2f-9514-e21833b9fecb.webp";const a={duration:1500,intro:{x:256}},c=_=>Ze.push(_.detail,a),u=_=>{const b=_.split("/").pop(),[v,y,E]=b.match(/(.+)(\.\w+)$/)??[];return{rootname:y??b,imageExtension:E??""}},{rootname:f,imageExtension:d}=u(o);let{mode:p}=s,g={currentMode:p,currentName:f,currentIndex:p==="quadrant"?1:0,filenames:[f,...Array.from([1,2,3,4],(_,b)=>`${f}${Ss}${b+1}`)]};pn(Te,i=g.filenames,i);let m=g.currentIndex;return g.currentIndex=m,[o,r,c,d,m]}class As extends me{constructor(t){super(),pe(this,t,Cs,Ms,ce,{})}}new As({target:document.getElementById("app")});
